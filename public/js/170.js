/*! For license information please see 170.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[170],{170:(t,e,n)=>{n.r(e),n.d(e,{default:()=>f});var r=n(9193);function i(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function s(n,r,i,o){var s=r&&r.prototype instanceof u?r:u,l=Object.create(s.prototype);return a(l,"_invoke",function(n,r,i){var a,o,s,u=0,l=i||[],p=!1,d={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,n){return a=e,o=0,s=t,d.n=n,c}};function f(n,r){for(o=n,s=r,e=0;!p&&u&&!i&&e<l.length;e++){var i,a=l[e],f=d.p,v=a[2];n>3?(i=v===r)&&(s=a[(o=a[4])?5:(o=3,3)],a[4]=a[5]=t):a[0]<=f&&((i=n<2&&f<a[1])?(o=0,d.v=r,d.n=a[1]):f<v&&(i=n<3||a[0]>r||r>v)&&(a[4]=n,a[5]=r,d.n=v,o=0))}if(i||n>1)return c;throw p=!0,r}return function(i,l,v){if(u>1)throw TypeError("Generator is already running");for(p&&1===l&&f(l,v),o=l,s=v;(e=o<2?t:s)||!p;){a||(o?o<3?(o>1&&(d.n=-1),f(o,s)):d.n=s:d.v=s);try{if(u=2,a){if(o||(i="next"),e=a[i]){if(!(e=e.call(a,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,o<2&&(o=0)}else 1===o&&(e=a.return)&&e.call(a),o<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),o=1);a=t}else if((e=(p=d.n<0)?s:n.call(r,d))!==c)break}catch(e){a=t,o=1,s=e}finally{u=1}}return{value:e,done:p}}}(n,i,o),!0),l}var c={};function u(){}function l(){}function p(){}e=Object.getPrototypeOf;var d=[][r]?e(e([][r]())):(a(e={},r,function(){return this}),e),f=p.prototype=u.prototype=Object.create(d);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,a(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return l.prototype=p,a(f,"constructor",p),a(p,"constructor",l),l.displayName="GeneratorFunction",a(p,o,"GeneratorFunction"),a(f),a(f,o,"Generator"),a(f,r,function(){return this}),a(f,"toString",function(){return"[object Generator]"}),(i=function(){return{w:s,m:v}})()}function a(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}a=function(t,e,n,r){if(e)i?i(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var o=function(e,n){a(t,e,function(t){return this._invoke(e,n,t)})};o("next",0),o("throw",1),o("return",2)}},a(t,e,n,r)}function o(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function s(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var a=t.apply(e,n);function s(t){o(a,r,i,s,c,"next",t)}function c(t){o(a,r,i,s,c,"throw",t)}s(void 0)})}}const c={name:"AdminDeskprintIndex",data:function(){return{isBusy:!1,deskprints:[],fields:[{key:"name",label:"Name",sortable:!0},{key:"contact_number",label:"Contact Number",sortable:!0},{key:"location",label:"Location",sortable:!0},{key:"is_active",label:"Status",sortable:!0},{key:"created_at",label:"Created At",sortable:!0},{key:"actions",label:"Actions"}],filters:{search:""},pagination:{currentPage:1,perPage:15,total:0},itemToDelete:{id:null,name:""}}},created:function(){this.fetchDeskprints()},methods:{fetchDeskprints:function(){var t=arguments,e=this;return s(i().m(function n(){var a,o,s,c,u;return i().w(function(n){for(;;)switch(n.p=n.n){case 0:return a=t.length>0&&void 0!==t[0]?t[0]:1,e.isBusy=!0,n.p=1,o={page:a,per_page:e.pagination.perPage,search:e.filters.search},n.n=2,r.A.getAdminDeskprints(o);case 2:s=n.v,e.deskprints=s.data,e.pagination.total=s.total,e.pagination.currentPage=s.current_page,n.n=4;break;case 3:n.p=3,u=n.v,console.error("Failed to fetch admin deskprints:",u),c=u.error||"Failed to load deskprints. Please try again.",e.$bvToast.toast(c,{title:"Error",variant:"danger",solid:!0}),e.deskprints=[];case 4:return n.p=4,e.isBusy=!1,n.f(4);case 5:return n.a(2)}},n,null,[[1,3,4,5]])}))()},onPageChange:function(t){this.fetchDeskprints(t)},applyFilters:function(){this.pagination.currentPage=1,this.fetchDeskprints(1)},resetFilters:function(){this.filters.search="",this.pagination.currentPage=1,this.fetchDeskprints(1)},confirmDelete:function(t,e){this.itemToDelete.id=t,this.itemToDelete.name=e,this.$bvModal.show("delete-deskprint-modal")},deleteDeskprint:function(t){var e=this;return s(i().m(function n(){var a,o;return i().w(function(n){for(;;)switch(n.p=n.n){case 0:return t.preventDefault(),n.p=1,n.n=2,r.A.deleteAdminDeskprint(e.itemToDelete.id);case 2:e.$bvToast.toast("Deskprint '".concat(e.itemToDelete.name,"' deleted successfully."),{title:"Success",variant:"success",solid:!0}),e.fetchDeskprints(e.pagination.currentPage),e.$bvModal.hide("delete-deskprint-modal"),n.n=4;break;case 3:n.p=3,o=n.v,console.error("Failed to delete deskprint:",o),a=o.error||"Failed to delete deskprint. Please try again.",e.$bvToast.toast(a,{title:"Error",variant:"danger",solid:!0}),e.$bvModal.hide("delete-deskprint-modal");case 4:return n.a(2)}},n,null,[[1,3]])}))()},formatDate:function(t){return t?new Date(t).toLocaleString("id-ID"):""}}};var u=n(5072),l=n.n(u),p=n(3721),d={insert:"head",singleton:!1};l()(p.A,d);p.A.locals;const f=(0,n(4486).A)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-row",{staticClass:"mb-3"},[n("b-col",{attrs:{md:"6"}},[n("h2",[t._v("Deskprint Management")])]),t._v(" "),n("b-col",{staticClass:"text-md-right",attrs:{md:"6"}},[n("b-button",{attrs:{variant:"success",to:{name:"AdminDeskprintCreate"}}},[n("b-icon",{staticClass:"mr-1",attrs:{icon:"plus-circle"}}),t._v("\n        Add New Deskprint\n      ")],1)],1)],1),t._v(" "),n("b-card",{staticClass:"mb-4",attrs:{"no-body":""}},[n("b-card-body",[n("b-row",[n("b-col",{attrs:{md:"6"}},[n("b-form-group",{attrs:{label:"Search Deskprint:","label-for":"filter-deskprint"}},[n("b-form-input",{attrs:{id:"filter-deskprint",placeholder:"Enter name or location..."},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.applyFilters.apply(null,arguments)}},model:{value:t.filters.search,callback:function(e){t.$set(t.filters,"search",e)},expression:"filters.search"}})],1)],1),t._v(" "),n("b-col",{staticClass:"d-flex align-items-end",attrs:{md:"6"}},[n("b-button",{attrs:{variant:"primary"},on:{click:t.applyFilters}},[t._v("Apply Filters")]),t._v(" "),n("b-button",{staticClass:"ml-2",attrs:{variant:"secondary"},on:{click:t.resetFilters}},[t._v("Reset")])],1)],1)],1)],1),t._v(" "),n("b-card",{attrs:{"no-body":""}},[n("b-table",{attrs:{striped:"",hover:"",responsive:"",items:t.deskprints,fields:t.fields,busy:t.isBusy,"show-empty":"","empty-text":"No deskprints found.","empty-filtered-text":"No deskprints match your filters."},scopedSlots:t._u([{key:"cell(name)",fn:function(e){return[n("router-link",{attrs:{to:{name:"AdminDeskprintEdit",params:{id:e.item.id}}}},[t._v("\n          "+t._s(e.item.name)+"\n        ")])]}},{key:"cell(contact_number)",fn:function(e){return[t._v("\n        "+t._s(e.item.contact_number)+"\n      ")]}},{key:"cell(location)",fn:function(e){return[t._v("\n        "+t._s(e.item.location)+"\n      ")]}},{key:"cell(is_active)",fn:function(e){return[n("b-badge",{attrs:{variant:e.item.is_active?"success":"secondary"}},[t._v("\n          "+t._s(e.item.is_active?"Active":"Inactive")+"\n        ")])]}},{key:"cell(created_at)",fn:function(e){return[t._v("\n        "+t._s(t.formatDate(e.item.created_at))+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[n("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"primary",to:{name:"AdminDeskprintEdit",params:{id:e.item.id}}}},[t._v("\n          Edit\n        ")]),t._v(" "),n("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(n){return t.confirmDelete(e.item.id,e.item.name)}}},[t._v("\n          Delete\n        ")])]}}])}),t._v(" "),n("b-card-footer",{staticClass:"d-flex justify-content-between align-items-center"},[n("div",[n("strong",[t._v("Total Deskprints:")]),t._v(" "+t._s(t.pagination.total)+"\n      ")]),t._v(" "),n("b-pagination",{attrs:{"total-rows":t.pagination.total,"per-page":t.pagination.perPage},on:{change:t.onPageChange},model:{value:t.pagination.currentPage,callback:function(e){t.$set(t.pagination,"currentPage",e)},expression:"pagination.currentPage"}})],1)],1),t._v(" "),n("b-modal",{attrs:{id:"delete-deskprint-modal",title:"Confirm Delete","ok-variant":"danger","ok-title":"Delete"},on:{ok:t.deleteDeskprint}},[n("p",[t._v("Are you sure you want to delete deskprint "),n("strong",[t._v(t._s(t.itemToDelete.name))]),t._v("?")]),t._v(" "),n("p",{staticClass:"text-danger"},[n("small",[t._v("This action cannot be undone.")])])])],1)},[],!1,null,"086b34fc",null).exports},3721:(t,e,n)=>{n.d(e,{A:()=>a});var r=n(6314),i=n.n(r)()(function(t){return t[1]});i.push([t.id,"",""]);const a=i},9193:(t,e,n)=>{n.d(e,{A:()=>p});var r=n(7304);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function s(n,r,i,a){var s=r&&r.prototype instanceof u?r:u,l=Object.create(s.prototype);return o(l,"_invoke",function(n,r,i){var a,o,s,u=0,l=i||[],p=!1,d={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,n){return a=e,o=0,s=t,d.n=n,c}};function f(n,r){for(o=n,s=r,e=0;!p&&u&&!i&&e<l.length;e++){var i,a=l[e],f=d.p,v=a[2];n>3?(i=v===r)&&(s=a[(o=a[4])?5:(o=3,3)],a[4]=a[5]=t):a[0]<=f&&((i=n<2&&f<a[1])?(o=0,d.v=r,d.n=a[1]):f<v&&(i=n<3||a[0]>r||r>v)&&(a[4]=n,a[5]=r,d.n=v,o=0))}if(i||n>1)return c;throw p=!0,r}return function(i,l,v){if(u>1)throw TypeError("Generator is already running");for(p&&1===l&&f(l,v),o=l,s=v;(e=o<2?t:s)||!p;){a||(o?o<3?(o>1&&(d.n=-1),f(o,s)):d.n=s:d.v=s);try{if(u=2,a){if(o||(i="next"),e=a[i]){if(!(e=e.call(a,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,o<2&&(o=0)}else 1===o&&(e=a.return)&&e.call(a),o<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),o=1);a=t}else if((e=(p=d.n<0)?s:n.call(r,d))!==c)break}catch(e){a=t,o=1,s=e}finally{u=1}}return{value:e,done:p}}}(n,i,a),!0),l}var c={};function u(){}function l(){}function p(){}e=Object.getPrototypeOf;var d=[][r]?e(e([][r]())):(o(e={},r,function(){return this}),e),f=p.prototype=u.prototype=Object.create(d);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,o(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return l.prototype=p,o(f,"constructor",p),o(p,"constructor",l),l.displayName="GeneratorFunction",o(p,i,"GeneratorFunction"),o(f),o(f,i,"Generator"),o(f,r,function(){return this}),o(f,"toString",function(){return"[object Generator]"}),(a=function(){return{w:s,m:v}})()}function o(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}o=function(t,e,n,r){if(e)i?i(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var a=function(e,n){o(t,e,function(t){return this._invoke(e,n,t)})};a("next",0),a("throw",1),a("return",2)}},o(t,e,n,r)}function s(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function c(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var a=t.apply(e,n);function o(t){s(a,r,i,o,c,"next",t)}function c(t){s(a,r,i,o,c,"throw",t)}o(void 0)})}}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l(r.key),r)}}function l(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}const p=new(function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"getAdminDeskprints",value:(f=c(a().m(function t(){var e,n,i,o,s=arguments;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:{},t.p=1,t.n=2,r.A.get("/admin/deskprints",{params:e});case 2:return n=t.v,t.a(2,n.data);case 3:throw t.p=3,o=t.v,console.error("DeskprintService.getAdminDeskprints failed:",o),(null===(i=o.response)||void 0===i?void 0:i.data)||{error:"Failed to fetch admin deskprints"};case 4:return t.a(2)}},t,null,[[1,3]])})),function(){return f.apply(this,arguments)})},{key:"getAdminDeskprint",value:(d=c(a().m(function t(e){var n,i,o;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,r.A.get("/admin/deskprints/".concat(e));case 1:return n=t.v,t.a(2,n.data);case 2:throw t.p=2,o=t.v,console.error("DeskprintService.getAdminDeskprint(".concat(e,") failed:"),o),(null===(i=o.response)||void 0===i?void 0:i.data)||{error:"Failed to fetch admin deskprint details"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return d.apply(this,arguments)})},{key:"createAdminDeskprint",value:(p=c(a().m(function t(e){var n,i,o;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,r.A.post("/admin/deskprints",e);case 1:return n=t.v,t.a(2,n.data);case 2:throw t.p=2,o=t.v,console.error("DeskprintService.createAdminDeskprint failed:",o),(null===(i=o.response)||void 0===i?void 0:i.data)||{error:"Failed to create deskprint"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return p.apply(this,arguments)})},{key:"updateAdminDeskprint",value:(l=c(a().m(function t(e,n){var i,o,s;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,r.A.put("/admin/deskprints/".concat(e),n);case 1:return i=t.v,t.a(2,i.data);case 2:throw t.p=2,s=t.v,console.error("DeskprintService.updateAdminDeskprint(".concat(e,") failed:"),s),(null===(o=s.response)||void 0===o?void 0:o.data)||{error:"Failed to update deskprint"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t,e){return l.apply(this,arguments)})},{key:"deleteAdminDeskprint",value:(s=c(a().m(function t(e){var n,i,o;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,r.A.delete("/admin/deskprints/".concat(e));case 1:return n=t.v,t.a(2,n.data);case 2:throw t.p=2,o=t.v,console.error("DeskprintService.deleteAdminDeskprint(".concat(e,") failed:"),o),(null===(i=o.response)||void 0===i?void 0:i.data)||{error:"Failed to delete deskprint"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return s.apply(this,arguments)})},{key:"getActiveDeskprints",value:(o=c(a().m(function t(){var e,n,i,o;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,e={is_active:!0,per_page:100},t.n=1,r.A.get("/admin/deskprints",{params:e});case 1:return n=t.v,t.a(2,n.data.data||n.data);case 2:throw t.p=2,o=t.v,console.error("DeskprintService.getActiveDeskprints failed:",o),(null===(i=o.response)||void 0===i?void 0:i.data)||{error:"Failed to fetch active deskprints"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(){return o.apply(this,arguments)})},{key:"getActiveDeskprintsForDropdown",value:(i=c(a().m(function t(){var e,n,i,o;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,e={is_active:1,per_page:100},t.n=1,r.A.get("/admin/deskprints",{params:e});case 1:return n=t.v,t.a(2,n.data.data||n.data);case 2:throw t.p=2,o=t.v,console.error("DeskprintService.getActiveDeskprintsForDropdown failed:",o),(null===(i=o.response)||void 0===i?void 0:i.data)||{error:"Failed to fetch active deskprints for dropdown"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(){return i.apply(this,arguments)})}],e&&u(t.prototype,e),n&&u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,i,o,s,l,p,d,f}())}}]);