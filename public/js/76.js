/*! For license information please see 76.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[76],{76:(t,e,r)=>{r.r(e),r.d(e,{default:()=>C});var a=r(7728),n=r(5497),o=r(7304),i=r(5353);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}const s={name:"TemplateSelector",props:{templates:{type:Array,default:function(){return[]}},value:{type:[Object,Number,String],default:null},label:{type:String,default:"Select a Template"},description:{type:String,default:""},loading:{type:Boolean,default:!1},error:{type:String,default:null},required:{type:Boolean,default:!1},compact:{type:Boolean,default:!1}},data:function(){return{internalSelectedTemplate:null}},computed:{selectedTemplate:function(){var t=this;if(this.value){if("object"===c(this.value)&&this.value.id)return this.value;if("number"==typeof this.value||"string"==typeof this.value)return this.templates.find(function(e){return e.id==t.value})||null}return this.internalSelectedTemplate}},methods:{selectTemplate:function(t){this.internalSelectedTemplate=t,this.$emit("input",t?t.id:null),this.$emit("selected",t||null)},toggleSelect:function(t){this.internalSelectedTemplate=t,this.$emit("input",t.id),this.$emit("selected",t)},isSelected:function(t){return this.selectedTemplate&&this.selectedTemplate.id===t.id},getTemplateImage:function(t){return t.sample_image?t.sample_image.startsWith("http")?t.sample_image:"/storage/"+t.sample_image:"https://www.aaronfaber.com/wp-content/uploads/2017/03/product-placeholder-wp.jpg"},onImageError:function(t){t.target.src="https://www.aaronfaber.com/wp-content/uploads/2017/03/product-placeholder-wp.jpg"}},watch:{templates:{handler:function(t){var e=this;this.selectedTemplate&&!t.some(function(t){return t.id===e.selectedTemplate.id})&&this.selectTemplate(null)},immediate:!0}}};var l=r(5072),u=r.n(l),d=r(2876),p={insert:"head",singleton:!1};u()(d.A,p);d.A.locals;var f=r(4486);function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function v(){var t,e,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",n=r.toStringTag||"@@toStringTag";function o(r,a,n,o){var s=a&&a.prototype instanceof c?a:c,l=Object.create(s.prototype);return b(l,"_invoke",function(r,a,n){var o,c,s,l=0,u=n||[],d=!1,p={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,r){return o=e,c=0,s=t,p.n=r,i}};function f(r,a){for(c=r,s=a,e=0;!d&&l&&!n&&e<u.length;e++){var n,o=u[e],f=p.p,m=o[2];r>3?(n=m===a)&&(s=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=t):o[0]<=f&&((n=r<2&&f<o[1])?(c=0,p.v=a,p.n=o[1]):f<m&&(n=r<3||o[0]>a||a>m)&&(o[4]=r,o[5]=a,p.n=m,c=0))}if(n||r>1)return i;throw d=!0,a}return function(n,u,m){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,m),c=u,s=m;(e=c<2?t:s)||!d;){o||(c?c<3?(c>1&&(p.n=-1),f(c,s)):p.n=s:p.v=s);try{if(l=2,o){if(c||(n="next"),e=o[n]){if(!(e=e.call(o,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,c<2&&(c=0)}else 1===c&&(e=o.return)&&e.call(o),c<2&&(s=TypeError("The iterator does not provide a '"+n+"' method"),c=1);o=t}else if((e=(d=p.n<0)?s:r.call(a,p))!==i)break}catch(e){o=t,c=1,s=e}finally{l=1}}return{value:e,done:d}}}(r,n,o),!0),l}var i={};function c(){}function s(){}function l(){}e=Object.getPrototypeOf;var u=[][a]?e(e([][a]())):(b(e={},a,function(){return this}),e),d=l.prototype=c.prototype=Object.create(u);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,b(t,n,"GeneratorFunction")),t.prototype=Object.create(d),t}return s.prototype=l,b(d,"constructor",l),b(l,"constructor",s),s.displayName="GeneratorFunction",b(l,n,"GeneratorFunction"),b(d),b(d,n,"Generator"),b(d,a,function(){return this}),b(d,"toString",function(){return"[object Generator]"}),(v=function(){return{w:o,m:p}})()}function b(t,e,r,a){var n=Object.defineProperty;try{n({},"",{})}catch(t){n=0}b=function(t,e,r,a){if(e)n?n(t,e,{value:r,enumerable:!a,configurable:!a,writable:!a}):t[e]=r;else{var o=function(e,r){b(t,e,function(t){return this._invoke(e,r,t)})};o("next",0),o("throw",1),o("return",2)}},b(t,e,r,a)}function h(t,e,r,a,n,o,i){try{var c=t[o](i),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(a,n)}function g(t){return function(){var e=this,r=arguments;return new Promise(function(a,n){var o=t.apply(e,r);function i(t){h(o,a,n,i,c,"next",t)}function c(t){h(o,a,n,i,c,"throw",t)}i(void 0)})}}function y(t){return function(t){if(Array.isArray(t))return w(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return w(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=Array(e);r<e;r++)a[r]=t[r];return a}function _(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,a)}return r}function S(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_(Object(r),!0).forEach(function(e){k(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function k(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=m(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,e||"default");if("object"!=m(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==m(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const P={name:"ProductDetail",components:{TemplateSelector:(0,f.A)(s,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"template-selector"},[r("b-form-group",{attrs:{label:t.label,description:t.description}},[t.error?r("b-alert",{attrs:{variant:"danger",show:""}},[t._v("\n      "+t._s(t.error)+"\n    ")]):t.loading?r("div",{staticClass:"text-center py-3"},[r("b-spinner",{attrs:{small:""}}),t._v(" Loading templates...\n    ")],1):t.templates&&0!==t.templates.length?t.compact?r("div",{staticClass:"chip-grid"},t._l(t.templates,function(e){return r("button",{key:e.id,staticClass:"chip",class:{selected:t.isSelected(e)},attrs:{type:"button"},on:{click:function(r){return t.toggleSelect(e)}}},[t._v("\n        "+t._s(e.name)+"\n      ")])}),0):r("div",{staticClass:"template-grid"},t._l(t.templates,function(e){return r("b-card",{key:e.id,staticClass:"mb-2",class:["template-card",{selected:t.isSelected(e)}],attrs:{"no-body":""},on:{click:function(r){return t.selectTemplate(e)}}},[r("b-card-body",{staticClass:"p-2"},[r("b-card-title",{staticClass:"h6 mb-0 text-center title-clamp"},[t._v(t._s(e.name))])],1)],1)}),1):r("b-alert",{attrs:{variant:"warning",show:""}},[t._v("\n      No templates available.\n    ")]),t._v(" "),t.required?r("input",{attrs:{type:"hidden",required:t.required},domProps:{value:t.selectedTemplate?t.selectedTemplate.id:""}}):t._e()],1)],1)},[],!1,null,"04ad0afe",null).exports},data:function(){return{product:null,loading:!1,error:null,addingToCart:!1,showSuccessMessage:!1,cartForm:{quantity:1,design_same:!0},selectedTemplateId:null,currentSlide:0}},computed:S(S({},(0,i.L8)("cart",["cartItems"])),{},{isTemplateSelected:function(){return!this.product||!this.product.templates||0===this.product.templates.length||null!==this.selectedTemplateId},productSlides:function(){if(!this.product)return[];var t=this.product.images||this.product.photos||this.product.gallery||[],e=Array.isArray(t)?t.slice():[],r=this.getProductImage(this.product);return r&&!e.some(function(t){return t===r})&&e.unshift(r),e.length||e.push(this.placeholder()),e},templateSlides:function(){var t=this;return this.product&&Array.isArray(this.product.templates)?this.product.templates.map(function(e){return t.getTemplateImage(e)}):[]},slides:function(){return[].concat(y(this.productSlides),y(this.templateSlides))},templateIndexMap:function(){var t={},e=this.productSlides.length;return this.product&&Array.isArray(this.product.templates)&&this.product.templates.forEach(function(r,a){t[r.id]=e+a}),t}}),created:function(){var t=this;return g(v().m(function e(){return v().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t.loadProduct();case 1:return e.a(2)}},e)}))()},watch:{"$route.params.id":{handler:function(){var t=this;return g(v().m(function e(){return v().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t.loadProduct();case 1:return e.a(2)}},e)}))()}}},methods:S(S({},(0,i.i0)("cart",["loadCart","addItem"])),{},{loadProduct:function(){var t=this;return g(v().m(function e(){var r,n,o;return v().w(function(e){for(;;)switch(e.p=e.n){case 0:return t.loading=!0,t.error=null,e.p=1,r=t.$route.params.id,e.n=2,a.A.getProduct(r);case 2:n=e.v,t.product=n.data,t.product.templates&&t.product.templates.length>0&&null===t.selectedTemplateId&&(t.selectedTemplateId=t.product.templates[0].id),t.currentSlide=0,e.n=4;break;case 3:e.p=3,o=e.v,console.error("Failed to load product:",o),t.error=o.message||"Failed to load product details";case 4:return e.p=4,t.loading=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}))()},onTemplateSelected:function(t){if(t){var e=this.templateIndexMap[t.id];"number"==typeof e&&(this.currentSlide=e)}},goToProductHead:function(){this.currentSlide=0},addToCart:function(){var t=this;return g(v().m(function e(){var r,a,o,i,c;return v().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.$store.getters["auth/isAuthenticated"]){e.n=1;break}return t.$router.push({name:"Login"}),e.a(2);case 1:if(t.isTemplateSelected){e.n=2;break}return t.$store.dispatch("showNotification",{title:"Error",message:"Please select a template.",type:"warning"}),e.a(2);case 2:if(t.addingToCart=!0,t.showSuccessMessage=!1,e.p=3,r={product_id:t.product.id,template_id:t.selectedTemplateId,quantity:t.cartForm.quantity,design_same:t.cartForm.design_same},!(a=t.findExistingCartItem(r))){e.n=5;break}return o=a.quantity+r.quantity,e.n=4,t.updateExistingItem(a.id,o);case 4:e.n=7;break;case 5:return e.n=6,n.A.addToCart(r);case 6:return i=e.v,e.n=7,t.addItem(i.cart_item);case 7:return t.showSuccessMessage=!0,setTimeout(function(){t.showSuccessMessage=!1},5e3),e.n=8,t.$store.dispatch("cart/loadCart");case 8:t.$store.dispatch("showNotification",{title:"Success",message:"Product added to cart!",type:"success"}),e.n=10;break;case 9:e.p=9,c=e.v,console.error("Failed to add to cart:",c),t.$store.dispatch("showNotification",{title:"Error",message:c.message||"Failed to add product to cart",type:"danger"});case 10:return e.p=10,t.addingToCart=!1,e.f(10);case 11:return e.a(2)}},e,null,[[3,9,10,11]])}))()},findExistingCartItem:function(t){return this.cartItems.find(function(e){return e.product_id===t.product_id&&e.template_id===t.template_id&&e.design_same===t.design_same})},updateExistingItem:function(t,e){var r=this;return g(v().m(function a(){var n,i;return v().w(function(a){for(;;)switch(a.p=a.n){case 0:return a.p=0,a.n=1,o.A.put("/cart/".concat(t),{quantity:e});case 1:return n=a.v,a.n=2,r.$store.dispatch("cart/loadCart");case 2:return a.a(2,n.data);case 3:throw a.p=3,i=a.v,console.error("Failed to update cart item:",i),i;case 4:return a.a(2)}},a,null,[[0,3]])}))()},formatCurrency:function(t){return new Intl.NumberFormat("id-ID").format(t||0)},getProductImage:function(t){return t&&t.thumbnail?t.thumbnail.startsWith("http")?t.thumbnail:"/storage/"+t.thumbnail:this.placeholder()},getTemplateImage:function(t){return t&&t.sample_image?t.sample_image.startsWith("http")?t.sample_image:"/storage/"+t.sample_image:this.placeholder()},placeholder:function(){return"https://www.aaronfaber.com/wp-content/uploads/2017/03/product-placeholder-wp.jpg"},onImageError:function(t){t.target.src=this.placeholder()}})};var T=r(1463),x={insert:"head",singleton:!1};u()(T.A,x);T.A.locals;const C=(0,f.A)(P,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("app-layout",[r("b-container",[t.loading?r("b-row",[r("b-col",{staticClass:"text-center py-5",attrs:{cols:"12"}},[r("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{variant:"primary"}}),t._v(" "),r("p",{staticClass:"mt-3"},[t._v("Loading product details...")])],1)],1):t.error?r("b-row",[r("b-col",{attrs:{cols:"12"}},[r("b-alert",{attrs:{variant:"danger",show:""}},[r("h4",[r("b-icon",{attrs:{icon:"exclamation-triangle"}}),t._v(" Error")],1),t._v(" "),r("p",[t._v(t._s(t.error))]),t._v(" "),r("b-button",{attrs:{variant:"primary",to:{name:"Products"}}},[r("b-icon",{attrs:{icon:"arrow-left"}}),t._v(" Back to Products\n          ")],1)],1)],1)],1):t.product?r("b-row",[r("b-col",{staticClass:"mb-4",attrs:{lg:"6"}},[r("b-card",{staticClass:"gallery-card shadow-sm border-0"},[r("div",{staticClass:"d-flex justify-content-between align-items-center mb-2"},[r("div",{staticClass:"small text-muted"},[r("b-icon",{attrs:{icon:"images"}}),t._v(" "),r("span",{staticClass:"ml-1"},[t._v("Galeri ("+t._s(t.slides.length)+")")])],1),t._v(" "),0!==t.currentSlide?r("b-button",{attrs:{size:"sm",variant:"outline-secondary"},on:{click:function(e){return t.goToProductHead()}}},[r("b-icon",{attrs:{icon:"arrow-counterclockwise"}}),t._v(" Kembali ke Foto Produk\n            ")],1):t._e()],1),t._v(" "),r("div",{staticClass:"gallery-stage"},[r("b-carousel",{staticClass:"rounded h-100",attrs:{interval:0,controls:"",indicators:"",background:"#f8f9fa","img-width":"1024","img-height":"768"},model:{value:t.currentSlide,callback:function(e){t.currentSlide=e},expression:"currentSlide"}},t._l(t.slides,function(e,a){return r("b-carousel-slide",{key:a,scopedSlots:t._u([{key:"img",fn:function(){return[r("img",{staticClass:"d-block mx-auto gallery-image img-fluid",attrs:{src:e,alt:"Image "+(a+1)},on:{error:function(e){return t.onImageError(e,a)}}})]},proxy:!0}],null,!0)})}),1)],1),t._v(" "),r("div",{staticClass:"text-center small text-muted mt-2"},[t._v("\n            "+t._s(t.currentSlide+1)+" / "+t._s(t.slides.length)+"\n          ")])])],1),t._v(" "),r("b-col",{attrs:{lg:"6"}},[r("b-card",{staticClass:"shadow-sm border-0 h-100"},[r("div",{staticClass:"mb-2"},[r("h4",{staticClass:"mb-1 text-dark product-title clamp-2"},[t._v(t._s(t.product.name))]),t._v(" "),r("div",{staticClass:"text-muted small"},[t._v("\n              "+t._s(t.product.description)+"\n            ")])]),t._v(" "),r("div",{staticClass:"d-flex align-items-center justify-content-between my-3"},[r("div",{staticClass:"h3 text-primary mb-0"},[t._v("Rp "+t._s(t.formatCurrency(t.product.price)))]),t._v(" "),r("div",{staticClass:"text-right"},[t.product.is_active?r("b-badge",{attrs:{variant:"success"}},[t._v("In Stock")]):r("b-badge",{attrs:{variant:"danger"}},[t._v("Out of Stock")]),t._v(" "),(t.product.total_sold||0)>0?r("b-badge",{staticClass:"ml-1",attrs:{variant:"info"}},[t._v("\n                Terjual "+t._s(t.formatCurrency(t.product.total_sold))+"\n              ")]):t._e()],1)]),t._v(" "),t.product.templates&&t.product.templates.length?r("b-row",{staticClass:"mb-3"},[r("b-col",{attrs:{cols:"12"}},[r("template-selector",{attrs:{templates:t.product.templates,label:"Pilih Template *",description:"Klik untuk melihat preview di slider.",required:!0},on:{selected:t.onTemplateSelected},model:{value:t.selectedTemplateId,callback:function(e){t.selectedTemplateId=e},expression:"selectedTemplateId"}})],1)],1):t.product.templates&&0===t.product.templates.length?r("b-alert",{staticClass:"mb-3",attrs:{variant:"warning",show:""}},[t._v("\n            No templates available for this product.\n          ")]):t._e(),t._v(" "),r("b-form",{on:{submit:function(e){return e.preventDefault(),t.addToCart.apply(null,arguments)}}},[r("b-row",{staticClass:"mb-3"},[r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"Quantity"}},[r("b-form-input",{attrs:{type:"number",min:"1",max:"10",required:""},model:{value:t.cartForm.quantity,callback:function(e){t.$set(t.cartForm,"quantity",t._n(e))},expression:"cartForm.quantity"}})],1)],1),t._v(" "),r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"Design Options"}},[r("b-form-checkbox",{attrs:{switch:""},model:{value:t.cartForm.design_same,callback:function(e){t.$set(t.cartForm,"design_same",e)},expression:"cartForm.design_same"}},[t._v("\n                    Same design for all copies\n                  ")])],1)],1)],1),t._v(" "),r("b-button",{attrs:{type:"submit",variant:"primary",size:"lg",block:"",disabled:!t.product.is_active||t.addingToCart||!t.isTemplateSelected}},[t.addingToCart?r("b-spinner",{attrs:{small:""}}):r("b-icon",{attrs:{icon:"cart-plus"}}),t._v("\n              "+t._s(t.addingToCart?"Adding to Cart...":"Add to Cart")+"\n            ")],1),t._v(" "),t.showSuccessMessage?r("b-alert",{staticClass:"mt-3",attrs:{variant:"success",dismissible:""},on:{dismissed:function(e){t.showSuccessMessage=!1}}},[r("b-icon",{attrs:{icon:"check-circle"}}),t._v("\n              Product added to cart successfully!\n              "),r("b-link",{staticClass:"alert-link ml-2",attrs:{to:{name:"Cart"}}},[t._v("View Cart")])],1):t._e()],1),t._v(" "),r("div",{staticClass:"mt-3 d-flex flex-wrap gap-2"},[r("b-button",{staticClass:"mr-2",attrs:{variant:"outline-secondary",to:{name:"Products"}}},[r("b-icon",{attrs:{icon:"arrow-left"}}),t._v(" Back to Products\n            ")],1),t._v(" "),t.$store.getters["auth/isAuthenticated"]?t._e():r("b-button",{attrs:{variant:"warning",to:{name:"Login"}}},[r("b-icon",{attrs:{icon:"box-arrow-in-right"}}),t._v(" Login to Order\n            ")],1)],1)],1)],1)],1):t._e()],1)],1)},[],!1,null,"d10ca29a",null).exports},1463:(t,e,r)=>{r.d(e,{A:()=>o});var a=r(6314),n=r.n(a)()(function(t){return t[1]});n.push([t.id,".gallery-card[data-v-d10ca29a]{border-radius:.9rem}.gallery-stage[data-v-d10ca29a]{border-radius:.5rem;overflow:hidden;padding-top:100%;position:relative;width:100%}.gallery-stage .carousel[data-v-d10ca29a],.gallery-stage .carousel-inner[data-v-d10ca29a]{height:100%;inset:0;position:absolute}.gallery-stage .carousel-item[data-v-d10ca29a]{height:100%}.gallery-image[data-v-d10ca29a]{background:#f8fafc;display:block;height:100%!important;-o-object-fit:contain;object-fit:contain;-o-object-position:center;object-position:center;width:100%}@media (min-width:992px){.gallery-stage[data-v-d10ca29a]{height:420px;padding-top:0}}.clamp-2[data-v-d10ca29a]{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.badge+.badge[data-v-d10ca29a]{margin-left:.25rem}.carousel-control-next-icon[data-v-d10ca29a],.carousel-control-prev-icon[data-v-d10ca29a]{background-color:rgba(0,0,0,.5);border-radius:50%}",""]);const o=n},2876:(t,e,r)=>{r.d(e,{A:()=>o});var a=r(6314),n=r.n(a)()(function(t){return t[1]});n.push([t.id,".chip-grid[data-v-04ad0afe]{display:grid;gap:8px;grid-template-columns:repeat(auto-fill,minmax(110px,1fr))}.chip[data-v-04ad0afe]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#fff;border:1px solid #e5e7eb;border-radius:2rem;color:#111827;cursor:pointer;font-size:.3rem;padding:.4rem .6rem;text-align:center;transition:all .15s ease}.chip.selected[data-v-04ad0afe],.chip[data-v-04ad0afe]:hover{border-color:#0ea5e9}.chip.selected[data-v-04ad0afe]{background:#e6f6ff;box-shadow:0 0 0 3px rgba(14,165,233,.15);color:#0b74c7}.template-grid[data-v-04ad0afe]{display:grid;gap:10px;grid-template-columns:repeat(auto-fill,minmax(120px,1fr))}.template-card[data-v-04ad0afe]{border:2px solid #e9ecef;cursor:pointer;height:100%;transition:all .2s ease-in-out}.template-card[data-v-04ad0afe]:hover{border-color:#007bff;box-shadow:0 2px 8px rgba(0,0,0,.1)}.template-card.selected[data-v-04ad0afe]{border-color:#007bff;box-shadow:0 0 0 3px rgba(0,123,255,.25)}.template-image[data-v-04ad0afe]{height:80px;-o-object-fit:cover;object-fit:cover;width:100%}.title-clamp[data-v-04ad0afe]{-webkit-line-clamp:3;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}",""]);const o=n},7728:(t,e,r)=>{r.d(e,{A:()=>d});var a=r(7304);function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(){var t,e,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",n=r.toStringTag||"@@toStringTag";function c(r,a,n,o){var c=a&&a.prototype instanceof l?a:l,u=Object.create(c.prototype);return i(u,"_invoke",function(r,a,n){var o,i,c,l=0,u=n||[],d=!1,p={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,r){return o=e,i=0,c=t,p.n=r,s}};function f(r,a){for(i=r,c=a,e=0;!d&&l&&!n&&e<u.length;e++){var n,o=u[e],f=p.p,m=o[2];r>3?(n=m===a)&&(c=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=f&&((n=r<2&&f<o[1])?(i=0,p.v=a,p.n=o[1]):f<m&&(n=r<3||o[0]>a||a>m)&&(o[4]=r,o[5]=a,p.n=m,i=0))}if(n||r>1)return s;throw d=!0,a}return function(n,u,m){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,m),i=u,c=m;(e=i<2?t:c)||!d;){o||(i?i<3?(i>1&&(p.n=-1),f(i,c)):p.n=c:p.v=c);try{if(l=2,o){if(i||(n="next"),e=o[n]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(c=TypeError("The iterator does not provide a '"+n+"' method"),i=1);o=t}else if((e=(d=p.n<0)?c:r.call(a,p))!==s)break}catch(e){o=t,i=1,c=e}finally{l=1}}return{value:e,done:d}}}(r,n,o),!0),u}var s={};function l(){}function u(){}function d(){}e=Object.getPrototypeOf;var p=[][a]?e(e([][a]())):(i(e={},a,function(){return this}),e),f=d.prototype=l.prototype=Object.create(p);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,i(t,n,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=d,i(f,"constructor",d),i(d,"constructor",u),u.displayName="GeneratorFunction",i(d,n,"GeneratorFunction"),i(f),i(f,n,"Generator"),i(f,a,function(){return this}),i(f,"toString",function(){return"[object Generator]"}),(o=function(){return{w:c,m}})()}function i(t,e,r,a){var n=Object.defineProperty;try{n({},"",{})}catch(t){n=0}i=function(t,e,r,a){if(e)n?n(t,e,{value:r,enumerable:!a,configurable:!a,writable:!a}):t[e]=r;else{var o=function(e,r){i(t,e,function(t){return this._invoke(e,r,t)})};o("next",0),o("throw",1),o("return",2)}},i(t,e,r,a)}function c(t,e,r,a,n,o,i){try{var c=t[o](i),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(a,n)}function s(t){return function(){var e=this,r=arguments;return new Promise(function(a,n){var o=t.apply(e,r);function i(t){c(o,a,n,i,s,"next",t)}function s(t){c(o,a,n,i,s,"throw",t)}i(void 0)})}}function l(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,u(a.key),a)}}function u(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,e||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}const d=new(function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"getProducts",value:(m=s(o().m(function t(){var e,r,n,i,c=arguments;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:{},t.p=1,t.n=2,a.A.get("/products",{params:e});case 2:return r=t.v,t.a(2,r.data);case 3:throw t.p=3,i=t.v,(null===(n=i.response)||void 0===n?void 0:n.data)||{error:"Failed to fetch products"};case 4:return t.a(2)}},t,null,[[1,3]])})),function(){return m.apply(this,arguments)})},{key:"getProduct",value:(f=s(o().m(function t(e){var r,n,i;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,a.A.get("/products/".concat(e));case 1:return r=t.v,t.a(2,r.data);case 2:throw t.p=2,i=t.v,(null===(n=i.response)||void 0===n?void 0:n.data)||{error:"Failed to fetch product"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return f.apply(this,arguments)})},{key:"getProductTemplates",value:(p=s(o().m(function t(e){var r,n,i;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,a.A.get("/products/".concat(e,"/templates"));case 1:return r=t.v,t.a(2,r.data);case 2:throw t.p=2,i=t.v,(null===(n=i.response)||void 0===n?void 0:n.data)||{error:"Failed to fetch templates"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return p.apply(this,arguments)})},{key:"getAdminProducts",value:(d=s(o().m(function t(){var e,r,n,i,c=arguments;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:{},t.p=1,t.n=2,a.A.get("/admin/products",{params:e});case 2:return r=t.v,t.a(2,r.data);case 3:throw t.p=3,i=t.v,console.error("ProductService.getAdminProducts failed:",i),(null===(n=i.response)||void 0===n?void 0:n.data)||{error:"Failed to fetch admin products"};case 4:return t.a(2)}},t,null,[[1,3]])})),function(){return d.apply(this,arguments)})},{key:"getAdminProduct",value:(u=s(o().m(function t(e){var r,n,i;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,a.A.get("/admin/products/".concat(e));case 1:return r=t.v,t.a(2,r.data);case 2:throw t.p=2,i=t.v,console.error("ProductService.getAdminProduct(".concat(e,") failed:"),i),(null===(n=i.response)||void 0===n?void 0:n.data)||{error:"Failed to fetch admin product details"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return u.apply(this,arguments)})},{key:"createAdminProduct",value:(c=s(o().m(function t(e){var r,n,i;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,a.A.post("/admin/products",e);case 1:return r=t.v,t.a(2,r.data);case 2:throw t.p=2,i=t.v,console.error("ProductService.createAdminProduct failed:",i),(null===(n=i.response)||void 0===n?void 0:n.data)||{error:"Failed to create product"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return c.apply(this,arguments)})},{key:"updateAdminProduct",value:(i=s(o().m(function t(e,r){var n,i,c;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,a.A.post("/admin/products/".concat(e),r);case 1:return n=t.v,t.a(2,n.data);case 2:throw t.p=2,c=t.v,console.error("ProductService.updateAdminProduct(".concat(e,") failed:"),c),(null===(i=c.response)||void 0===i?void 0:i.data)||{error:"Failed to update product"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t,e){return i.apply(this,arguments)})},{key:"deleteAdminProduct",value:(n=s(o().m(function t(e){var r,n,i;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,a.A.delete("/admin/products/".concat(e));case 1:return r=t.v,t.a(2,r.data);case 2:throw t.p=2,i=t.v,console.error("ProductService.deleteAdminProduct(".concat(e,") failed:"),i),(null===(n=i.response)||void 0===n?void 0:n.data)||{error:"Failed to delete product"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return n.apply(this,arguments)})}],e&&l(t.prototype,e),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,n,i,c,u,d,p,f,m}())}}]);