/*! For license information please see 830.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[830],{2830:(t,e,r)=>{r.r(e),r.d(e,{default:()=>m});var n=r(5933),o=r(7728);function a(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function u(r,n,o,a){var u=n&&n.prototype instanceof l?n:l,s=Object.create(u.prototype);return i(s,"_invoke",function(r,n,o){var a,i,u,l=0,s=o||[],p=!1,d={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,r){return a=e,i=0,u=t,d.n=r,c}};function f(r,n){for(i=r,u=n,e=0;!p&&l&&!o&&e<s.length;e++){var o,a=s[e],f=d.p,m=a[2];r>3?(o=m===n)&&(u=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=f&&((o=r<2&&f<a[1])?(i=0,d.v=n,d.n=a[1]):f<m&&(o=r<3||a[0]>n||n>m)&&(a[4]=r,a[5]=n,d.n=m,i=0))}if(o||r>1)return c;throw p=!0,n}return function(o,s,m){if(l>1)throw TypeError("Generator is already running");for(p&&1===s&&f(s,m),i=s,u=m;(e=i<2?t:u)||!p;){a||(i?i<3?(i>1&&(d.n=-1),f(i,u)):d.n=u:d.v=u);try{if(l=2,a){if(i||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=t}else if((e=(p=d.n<0)?u:r.call(n,d))!==c)break}catch(e){a=t,i=1,u=e}finally{l=1}}return{value:e,done:p}}}(r,o,a),!0),s}var c={};function l(){}function s(){}function p(){}e=Object.getPrototypeOf;var d=[][n]?e(e([][n]())):(i(e={},n,function(){return this}),e),f=p.prototype=l.prototype=Object.create(d);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,i(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return s.prototype=p,i(f,"constructor",p),i(p,"constructor",s),s.displayName="GeneratorFunction",i(p,o,"GeneratorFunction"),i(f),i(f,o,"Generator"),i(f,n,function(){return this}),i(f,"toString",function(){return"[object Generator]"}),(a=function(){return{w:u,m}})()}function i(t,e,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}i=function(t,e,r,n){if(e)o?o(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r;else{var a=function(e,r){i(t,e,function(t){return this._invoke(e,r,t)})};a("next",0),a("throw",1),a("return",2)}},i(t,e,r,n)}function u(t,e,r,n,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function c(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function i(t){u(a,n,o,i,c,"next",t)}function c(t){u(a,n,o,i,c,"throw",t)}i(void 0)})}}const l={name:"AdminTemplateCreate",data:function(){return{isSubmitting:!1,isProductsLoading:!1,productOptions:[],form:{name:"",product_id:null,sample_image:null,layout_data:{layout_type:"",dimensions:"",pages:null,photo_slots:null},is_active:!0},errors:{}}},computed:{previewSampleImageUrl:function(){return this.form.sample_image?URL.createObjectURL(this.form.sample_image):null}},created:function(){var t=this;return c(a().m(function e(){return a().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t.fetchProducts();case 1:return e.a(2)}},e)}))()},methods:{fetchProducts:function(){var t=this;return c(a().m(function e(){var r,n,i;return a().w(function(e){for(;;)switch(e.p=e.n){case 0:return t.isProductsLoading=!0,e.p=1,r={per_page:100},e.n=2,o.A.getAdminProducts(r);case 2:n=e.v,t.productOptions=n.data,e.n=4;break;case 3:e.p=3,i=e.v,console.error("Failed to fetch products for dropdown:",i),t.$bvToast.toast("Failed to load product options. Please try again.",{title:"Error",variant:"danger",solid:!0}),t.productOptions=[];case 4:return e.p=4,t.isProductsLoading=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}))()},getValidationState:function(t){return t.includes("."),void 0===this.errors[t]?null:!this.errors[t]},getNestedError:function(t){var e=this.errors[t];return e&&Array.isArray(e)&&e.length>0?e[0]:""},submitForm:function(){var t=this;return c(a().m(function e(){var r,o,i,u,c;return a().w(function(e){for(;;)switch(e.p=e.n){case 0:return t.isSubmitting=!0,t.errors={},e.p=1,(r=new FormData).append("product_id",t.form.product_id),r.append("name",t.form.name),t.form.sample_image&&r.append("sample_image",t.form.sample_image),r.append("layout_data[layout_type]",t.form.layout_data.layout_type),r.append("layout_data[dimensions]",t.form.layout_data.dimensions),r.append("layout_data[pages]",t.form.layout_data.pages),r.append("layout_data[photo_slots]",t.form.layout_data.photo_slots),r.append("is_active",t.form.is_active?1:0),e.n=2,n.A.createAdminTemplate(r);case 2:o=e.v,t.$bvToast.toast("Template '".concat(o.name,"' created successfully."),{title:"Success",variant:"success",solid:!0}),t.$router.push({name:"AdminTemplates"}),e.n=4;break;case 3:e.p=3,c=e.v,console.error("Failed to create template:",c),i=c.error||c.message||"Failed to create template. Please try again.",u=c.errors||{},Object.keys(u).length>0?(t.errors=u,i&&"Failed to create template. Please try again."!==i&&t.$bvToast.toast(i,{title:"Validation Error",variant:"danger",solid:!0})):t.$bvToast.toast(i,{title:"Error",variant:"danger",solid:!0});case 4:return e.p=4,t.isSubmitting=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}))()}}};var s=r(5072),p=r.n(s),d=r(3961),f={insert:"head",singleton:!1};p()(d.A,f);d.A.locals;const m=(0,r(4486).A)(l,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-row",{staticClass:"mb-3"},[r("b-col",[r("h2",[t._v("Create New Template")])])],1),t._v(" "),r("b-card",[r("b-form",{on:{submit:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[r("b-form-group",{attrs:{label:"Name:","label-for":"template-name"}},[r("b-form-input",{attrs:{id:"template-name",required:"",placeholder:"Enter template name",state:t.getValidationState("name")},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),r("b-form-invalid-feedback",{attrs:{state:t.getValidationState("name")}},[t._v("\n          "+t._s(t.errors.name)+"\n        ")])],1),t._v(" "),r("b-form-group",{attrs:{label:"Product:","label-for":"template-product"}},[r("b-form-select",{attrs:{id:"template-product",options:t.productOptions,"value-field":"id","text-field":"name",required:"",state:t.getValidationState("product_id"),disabled:t.isProductsLoading},scopedSlots:t._u([{key:"first",fn:function(){return[r("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v("\n              "+t._s(t.isProductsLoading?"Loading products...":"-- Please select a product --")+"\n            ")])]},proxy:!0}]),model:{value:t.form.product_id,callback:function(e){t.$set(t.form,"product_id",e)},expression:"form.product_id"}}),t._v(" "),r("b-form-invalid-feedback",{attrs:{state:t.getValidationState("product_id")}},[t._v("\n          "+t._s(t.errors.product_id)+"\n        ")])],1),t._v(" "),r("b-form-group",{attrs:{label:"Sample Image:","label-for":"template-sample-image"}},[r("b-form-file",{attrs:{id:"template-sample-image",accept:"image/*",placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here...",state:t.getValidationState("sample_image")},model:{value:t.form.sample_image,callback:function(e){t.$set(t.form,"sample_image",e)},expression:"form.sample_image"}}),t._v(" "),r("b-form-invalid-feedback",{attrs:{state:t.getValidationState("sample_image")}},[t._v("\n          "+t._s(t.errors.sample_image)+"\n        ")]),t._v(" "),r("b-form-text",{attrs:{variant:"secondary"}},[r("small",[t._v("Allowed types: jpeg, png, jpg. Max size: 2MB.")])]),t._v(" "),t.form.sample_image?r("div",{staticClass:"mt-2"},[r("p",[r("strong",[t._v("Sample Image Preview:")])]),t._v(" "),r("b-img",{staticStyle:{"max-height":"150px"},attrs:{src:t.previewSampleImageUrl,thumbnail:"",fluid:"",alt:"Sample image preview"}})],1):t._e()],1),t._v(" "),r("hr"),t._v(" "),r("h5",[t._v("Layout Data")]),t._v(" "),r("b-form-group",{attrs:{label:"Layout Type:","label-for":"layout-type"}},[r("b-form-input",{attrs:{id:"layout-type",required:"",placeholder:"e.g., Classic, Modern",state:t.getValidationState("layout_data.layout_type")},model:{value:t.form.layout_data.layout_type,callback:function(e){t.$set(t.form.layout_data,"layout_type",e)},expression:"form.layout_data.layout_type"}}),t._v(" "),r("b-form-invalid-feedback",{attrs:{state:t.getValidationState("layout_data.layout_type")}},[t._v("\n          "+t._s(t.getNestedError("layout_data.layout_type"))+"\n        ")])],1),t._v(" "),r("b-form-group",{attrs:{label:"Dimensions:","label-for":"layout-dimensions"}},[r("b-form-input",{attrs:{id:"layout-dimensions",required:"",placeholder:"e.g., 20x20 cm",state:t.getValidationState("layout_data.dimensions")},model:{value:t.form.layout_data.dimensions,callback:function(e){t.$set(t.form.layout_data,"dimensions",e)},expression:"form.layout_data.dimensions"}}),t._v(" "),r("b-form-invalid-feedback",{attrs:{state:t.getValidationState("layout_data.dimensions")}},[t._v("\n          "+t._s(t.getNestedError("layout_data.dimensions"))+"\n        ")])],1),t._v(" "),r("b-form-group",{attrs:{label:"Number of Pages:","label-for":"layout-pages"}},[r("b-form-input",{attrs:{id:"layout-pages",type:"number",min:"1",required:"",placeholder:"e.g., 20",state:t.getValidationState("layout_data.pages")},model:{value:t.form.layout_data.pages,callback:function(e){t.$set(t.form.layout_data,"pages",t._n(e))},expression:"form.layout_data.pages"}}),t._v(" "),r("b-form-invalid-feedback",{attrs:{state:t.getValidationState("layout_data.pages")}},[t._v("\n          "+t._s(t.getNestedError("layout_data.pages"))+"\n        ")])],1),t._v(" "),r("b-form-group",{attrs:{label:"Photo Slots:","label-for":"layout-photo-slots"}},[r("b-form-input",{attrs:{id:"layout-photo-slots",type:"number",min:"0",required:"",placeholder:"e.g., 30",state:t.getValidationState("layout_data.photo_slots")},model:{value:t.form.layout_data.photo_slots,callback:function(e){t.$set(t.form.layout_data,"photo_slots",t._n(e))},expression:"form.layout_data.photo_slots"}}),t._v(" "),r("b-form-invalid-feedback",{attrs:{state:t.getValidationState("layout_data.photo_slots")}},[t._v("\n          "+t._s(t.getNestedError("layout_data.photo_slots"))+"\n        ")])],1),t._v(" "),r("b-form-group",[r("b-form-checkbox",{attrs:{switch:""},model:{value:t.form.is_active,callback:function(e){t.$set(t.form,"is_active",e)},expression:"form.is_active"}},[t._v("\n          Active\n        ")])],1),t._v(" "),r("b-button",{attrs:{type:"submit",variant:"primary",disabled:t.isSubmitting}},[t.isSubmitting?r("b-spinner",{attrs:{small:""}}):t._e(),t._v("\n        "+t._s(t.isSubmitting?"Creating...":"Create Template")+"\n      ")],1),t._v(" "),r("b-button",{staticClass:"ml-2",attrs:{variant:"secondary",to:{name:"AdminTemplates"}}},[t._v("\n        Cancel\n      ")])],1)],1)],1)},[],!1,null,"25c1243f",null).exports},3961:(t,e,r)=>{r.d(e,{A:()=>a});var n=r(6314),o=r.n(n)()(function(t){return t[1]});o.push([t.id,"",""]);const a=o},5933:(t,e,r)=>{r.d(e,{A:()=>p});var n=r(7304);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function u(r,n,o,a){var u=n&&n.prototype instanceof l?n:l,s=Object.create(u.prototype);return i(s,"_invoke",function(r,n,o){var a,i,u,l=0,s=o||[],p=!1,d={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,r){return a=e,i=0,u=t,d.n=r,c}};function f(r,n){for(i=r,u=n,e=0;!p&&l&&!o&&e<s.length;e++){var o,a=s[e],f=d.p,m=a[2];r>3?(o=m===n)&&(u=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=f&&((o=r<2&&f<a[1])?(i=0,d.v=n,d.n=a[1]):f<m&&(o=r<3||a[0]>n||n>m)&&(a[4]=r,a[5]=n,d.n=m,i=0))}if(o||r>1)return c;throw p=!0,n}return function(o,s,m){if(l>1)throw TypeError("Generator is already running");for(p&&1===s&&f(s,m),i=s,u=m;(e=i<2?t:u)||!p;){a||(i?i<3?(i>1&&(d.n=-1),f(i,u)):d.n=u:d.v=u);try{if(l=2,a){if(i||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=t}else if((e=(p=d.n<0)?u:r.call(n,d))!==c)break}catch(e){a=t,i=1,u=e}finally{l=1}}return{value:e,done:p}}}(r,o,a),!0),s}var c={};function l(){}function s(){}function p(){}e=Object.getPrototypeOf;var d=[][n]?e(e([][n]())):(i(e={},n,function(){return this}),e),f=p.prototype=l.prototype=Object.create(d);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,i(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return s.prototype=p,i(f,"constructor",p),i(p,"constructor",s),s.displayName="GeneratorFunction",i(p,o,"GeneratorFunction"),i(f),i(f,o,"Generator"),i(f,n,function(){return this}),i(f,"toString",function(){return"[object Generator]"}),(a=function(){return{w:u,m}})()}function i(t,e,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}i=function(t,e,r,n){if(e)o?o(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r;else{var a=function(e,r){i(t,e,function(t){return this._invoke(e,r,t)})};a("next",0),a("throw",1),a("return",2)}},i(t,e,r,n)}function u(t,e,r,n,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function c(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function i(t){u(a,n,o,i,c,"next",t)}function c(t){u(a,n,o,i,c,"throw",t)}i(void 0)})}}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}function s(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}const p=new(function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"getAdminTemplates",value:(p=c(a().m(function t(){var e,r,o,i,u=arguments;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return e=u.length>0&&void 0!==u[0]?u[0]:{},t.p=1,t.n=2,n.A.get("/admin/templates",{params:e});case 2:return r=t.v,t.a(2,r.data);case 3:throw t.p=3,i=t.v,console.error("TemplateService.getAdminTemplates failed:",i),(null===(o=i.response)||void 0===o?void 0:o.data)||{error:"Failed to fetch admin templates"};case 4:return t.a(2)}},t,null,[[1,3]])})),function(){return p.apply(this,arguments)})},{key:"getAdminTemplate",value:(s=c(a().m(function t(e){var r,o,i;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,n.A.get("/admin/templates/".concat(e));case 1:return r=t.v,t.a(2,r.data);case 2:throw t.p=2,i=t.v,console.error("TemplateService.getAdminTemplate(".concat(e,") failed:"),i),(null===(o=i.response)||void 0===o?void 0:o.data)||{error:"Failed to fetch admin template details"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return s.apply(this,arguments)})},{key:"createAdminTemplate",value:(u=c(a().m(function t(e){var r,o,i;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,n.A.post("/admin/templates",e);case 1:return r=t.v,t.a(2,r.data);case 2:throw t.p=2,i=t.v,console.error("TemplateService.createAdminTemplate failed:",i),(null===(o=i.response)||void 0===o?void 0:o.data)||{error:"Failed to create template"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return u.apply(this,arguments)})},{key:"updateAdminTemplate",value:(i=c(a().m(function t(e,r){var o,i,u;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,n.A.post("/admin/templates/".concat(e),r,{headers:{"Content-Type":"multipart/form-data"}});case 1:return o=t.v,t.a(2,o.data);case 2:throw t.p=2,u=t.v,console.error("TemplateService.updateAdminTemplate(".concat(e,") failed:"),u),(null===(i=u.response)||void 0===i?void 0:i.data)||{error:"Failed to update template"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t,e){return i.apply(this,arguments)})},{key:"deleteAdminTemplate",value:(o=c(a().m(function t(e){var r,o,i;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,n.A.delete("/admin/templates/".concat(e));case 1:return r=t.v,t.a(2,r.data);case 2:throw t.p=2,i=t.v,console.error("TemplateService.deleteAdminTemplate(".concat(e,") failed:"),i),(null===(o=i.response)||void 0===o?void 0:o.data)||{error:"Failed to delete template"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return o.apply(this,arguments)})}],e&&l(t.prototype,e),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,o,i,u,s,p}())},7728:(t,e,r)=>{r.d(e,{A:()=>p});var n=r(7304);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function u(r,n,o,a){var u=n&&n.prototype instanceof l?n:l,s=Object.create(u.prototype);return i(s,"_invoke",function(r,n,o){var a,i,u,l=0,s=o||[],p=!1,d={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,r){return a=e,i=0,u=t,d.n=r,c}};function f(r,n){for(i=r,u=n,e=0;!p&&l&&!o&&e<s.length;e++){var o,a=s[e],f=d.p,m=a[2];r>3?(o=m===n)&&(u=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=f&&((o=r<2&&f<a[1])?(i=0,d.v=n,d.n=a[1]):f<m&&(o=r<3||a[0]>n||n>m)&&(a[4]=r,a[5]=n,d.n=m,i=0))}if(o||r>1)return c;throw p=!0,n}return function(o,s,m){if(l>1)throw TypeError("Generator is already running");for(p&&1===s&&f(s,m),i=s,u=m;(e=i<2?t:u)||!p;){a||(i?i<3?(i>1&&(d.n=-1),f(i,u)):d.n=u:d.v=u);try{if(l=2,a){if(i||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=t}else if((e=(p=d.n<0)?u:r.call(n,d))!==c)break}catch(e){a=t,i=1,u=e}finally{l=1}}return{value:e,done:p}}}(r,o,a),!0),s}var c={};function l(){}function s(){}function p(){}e=Object.getPrototypeOf;var d=[][n]?e(e([][n]())):(i(e={},n,function(){return this}),e),f=p.prototype=l.prototype=Object.create(d);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,i(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return s.prototype=p,i(f,"constructor",p),i(p,"constructor",s),s.displayName="GeneratorFunction",i(p,o,"GeneratorFunction"),i(f),i(f,o,"Generator"),i(f,n,function(){return this}),i(f,"toString",function(){return"[object Generator]"}),(a=function(){return{w:u,m}})()}function i(t,e,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}i=function(t,e,r,n){if(e)o?o(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r;else{var a=function(e,r){i(t,e,function(t){return this._invoke(e,r,t)})};a("next",0),a("throw",1),a("return",2)}},i(t,e,r,n)}function u(t,e,r,n,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function c(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var a=t.apply(e,r);function i(t){u(a,n,o,i,c,"next",t)}function c(t){u(a,n,o,i,c,"throw",t)}i(void 0)})}}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}function s(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}const p=new(function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"getProducts",value:(m=c(a().m(function t(){var e,r,o,i,u=arguments;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return e=u.length>0&&void 0!==u[0]?u[0]:{},t.p=1,t.n=2,n.A.get("/products",{params:e});case 2:return r=t.v,t.a(2,r.data);case 3:throw t.p=3,i=t.v,(null===(o=i.response)||void 0===o?void 0:o.data)||{error:"Failed to fetch products"};case 4:return t.a(2)}},t,null,[[1,3]])})),function(){return m.apply(this,arguments)})},{key:"getProduct",value:(f=c(a().m(function t(e){var r,o,i;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,n.A.get("/products/".concat(e));case 1:return r=t.v,t.a(2,r.data);case 2:throw t.p=2,i=t.v,(null===(o=i.response)||void 0===o?void 0:o.data)||{error:"Failed to fetch product"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return f.apply(this,arguments)})},{key:"getProductTemplates",value:(d=c(a().m(function t(e){var r,o,i;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,n.A.get("/products/".concat(e,"/templates"));case 1:return r=t.v,t.a(2,r.data);case 2:throw t.p=2,i=t.v,(null===(o=i.response)||void 0===o?void 0:o.data)||{error:"Failed to fetch templates"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return d.apply(this,arguments)})},{key:"getAdminProducts",value:(p=c(a().m(function t(){var e,r,o,i,u=arguments;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return e=u.length>0&&void 0!==u[0]?u[0]:{},t.p=1,t.n=2,n.A.get("/admin/products",{params:e});case 2:return r=t.v,t.a(2,r.data);case 3:throw t.p=3,i=t.v,console.error("ProductService.getAdminProducts failed:",i),(null===(o=i.response)||void 0===o?void 0:o.data)||{error:"Failed to fetch admin products"};case 4:return t.a(2)}},t,null,[[1,3]])})),function(){return p.apply(this,arguments)})},{key:"getAdminProduct",value:(s=c(a().m(function t(e){var r,o,i;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,n.A.get("/admin/products/".concat(e));case 1:return r=t.v,t.a(2,r.data);case 2:throw t.p=2,i=t.v,console.error("ProductService.getAdminProduct(".concat(e,") failed:"),i),(null===(o=i.response)||void 0===o?void 0:o.data)||{error:"Failed to fetch admin product details"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return s.apply(this,arguments)})},{key:"createAdminProduct",value:(u=c(a().m(function t(e){var r,o,i;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,n.A.post("/admin/products",e);case 1:return r=t.v,t.a(2,r.data);case 2:throw t.p=2,i=t.v,console.error("ProductService.createAdminProduct failed:",i),(null===(o=i.response)||void 0===o?void 0:o.data)||{error:"Failed to create product"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return u.apply(this,arguments)})},{key:"updateAdminProduct",value:(i=c(a().m(function t(e,r){var o,i,u;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,n.A.post("/admin/products/".concat(e),r);case 1:return o=t.v,t.a(2,o.data);case 2:throw t.p=2,u=t.v,console.error("ProductService.updateAdminProduct(".concat(e,") failed:"),u),(null===(i=u.response)||void 0===i?void 0:i.data)||{error:"Failed to update product"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t,e){return i.apply(this,arguments)})},{key:"deleteAdminProduct",value:(o=c(a().m(function t(e){var r,o,i;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,n.A.delete("/admin/products/".concat(e));case 1:return r=t.v,t.a(2,r.data);case 2:throw t.p=2,i=t.v,console.error("ProductService.deleteAdminProduct(".concat(e,") failed:"),i),(null===(o=i.response)||void 0===o?void 0:o.data)||{error:"Failed to delete product"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return o.apply(this,arguments)})}],e&&l(t.prototype,e),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,o,i,u,s,p,d,f,m}())}}]);