/*! For license information please see 467.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[467],{7029:(t,r,e)=>{e.d(r,{A:()=>a});var n=e(6314),o=e.n(n)()(function(t){return t[1]});o.push([t.id,".product-card[data-v-4c6ed88f]{border:none;transition:all .3s ease}.product-card[data-v-4c6ed88f]:hover{box-shadow:0 10px 25px rgba(0,0,0,.15)!important;transform:translateY(-5px)}.product-image[data-v-4c6ed88f]{height:200px;-o-object-fit:cover;object-fit:cover}.badge[data-v-4c6ed88f]{font-size:.75rem}",""]);const a=o},7467:(t,r,e)=>{e.r(r),e.d(r,{default:()=>f});var n=e(7728);function o(){var t,r,e="function"==typeof Symbol?Symbol:{},n=e.iterator||"@@iterator",i=e.toStringTag||"@@toStringTag";function c(e,n,o,i){var c=n&&n.prototype instanceof s?n:s,l=Object.create(c.prototype);return a(l,"_invoke",function(e,n,o){var a,i,c,s=0,l=o||[],p=!1,d={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(r,e){return a=r,i=0,c=t,d.n=e,u}};function f(e,n){for(i=e,c=n,r=0;!p&&s&&!o&&r<l.length;r++){var o,a=l[r],f=d.p,v=a[2];e>3?(o=v===n)&&(c=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=f&&((o=e<2&&f<a[1])?(i=0,d.v=n,d.n=a[1]):f<v&&(o=e<3||a[0]>n||n>v)&&(a[4]=e,a[5]=n,d.n=v,i=0))}if(o||e>1)return u;throw p=!0,n}return function(o,l,v){if(s>1)throw TypeError("Generator is already running");for(p&&1===l&&f(l,v),i=l,c=v;(r=i<2?t:c)||!p;){a||(i?i<3?(i>1&&(d.n=-1),f(i,c)):d.n=c:d.v=c);try{if(s=2,a){if(i||(o="next"),r=a[o]){if(!(r=r.call(a,c)))throw TypeError("iterator result is not an object");if(!r.done)return r;c=r.value,i<2&&(i=0)}else 1===i&&(r=a.return)&&r.call(a),i<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=t}else if((r=(p=d.n<0)?c:e.call(n,d))!==u)break}catch(r){a=t,i=1,c=r}finally{s=1}}return{value:r,done:p}}}(e,o,i),!0),l}var u={};function s(){}function l(){}function p(){}r=Object.getPrototypeOf;var d=[][n]?r(r([][n]())):(a(r={},n,function(){return this}),r),f=p.prototype=s.prototype=Object.create(d);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,a(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return l.prototype=p,a(f,"constructor",p),a(p,"constructor",l),l.displayName="GeneratorFunction",a(p,i,"GeneratorFunction"),a(f),a(f,i,"Generator"),a(f,n,function(){return this}),a(f,"toString",function(){return"[object Generator]"}),(o=function(){return{w:c,m:v}})()}function a(t,r,e,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}a=function(t,r,e,n){if(r)o?o(t,r,{value:e,enumerable:!n,configurable:!n,writable:!n}):t[r]=e;else{var i=function(r,e){a(t,r,function(t){return this._invoke(r,e,t)})};i("next",0),i("throw",1),i("return",2)}},a(t,r,e,n)}function i(t,r,e,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void e(t)}c.done?r(u):Promise.resolve(u).then(n,o)}function c(t){return function(){var r=this,e=arguments;return new Promise(function(n,o){var a=t.apply(r,e);function c(t){i(a,n,o,c,u,"next",t)}function u(t){i(a,n,o,c,u,"throw",t)}c(void 0)})}}const u={name:"ProductList",data:function(){return{products:[],pagination:null,currentPage:1,loading:!1,error:null,priceMin:"",priceMax:"",searchQuery:"",sortBy:"created_at",sortOptions:[{value:"price",text:"Sort by Price (Low to High)"},{value:"price_desc",text:"Sort by Price (High to Low)"},{value:"created_at",text:"Sort by Newest"},{value:"best_selling",text:"Sort by Best Selling"}],filterTimeout:null}},created:function(){var t=this;return c(o().m(function r(){return o().w(function(r){for(;;)switch(r.n){case 0:return t.searchQuery=t.$route.query.search||"",r.n=1,t.loadProducts(t.$route.query.page||1,t.$route.query.sort||"name",t.$route.query.price_min||"",t.$route.query.price_max||"",t.searchQuery);case 1:return r.a(2)}},r)}))()},watch:{"$route.query":{handler:function(t){this.searchQuery=t.search||"",this.loadProducts(t.page||1,t.sort||"name",t.price_min||"",t.price_max||"",this.searchQuery)},immediate:!0}},methods:{loadProducts:function(){var t=arguments,r=this;return c(o().m(function e(){var a,i,c,u,s,l,p,d;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:return a=t.length>0&&void 0!==t[0]?t[0]:1,i=t.length>1&&void 0!==t[1]?t[1]:"name",c=t.length>2&&void 0!==t[2]?t[2]:"",u=t.length>3&&void 0!==t[3]?t[3]:"",s=t.length>4&&void 0!==t[4]?t[4]:"",r.loading=!0,r.error=null,e.p=1,l={page:a,sort:i,price_min:c,price_max:u,search:s},e.n=2,n.A.getProducts(l);case 2:p=e.v,r.products=p.data||[],r.pagination=p.pagination||null,r.currentPage=a,e.n=4;break;case 3:e.p=3,d=e.v,console.error("Failed to load products:",d),r.error=d.message||"Failed to load products";case 4:return e.p=4,r.loading=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}))()},onPageChange:function(t){this.loadProducts(t,this.sortBy,this.priceMin,this.priceMax,this.searchQuery)},onFilterChange:function(){var t=this;clearTimeout(this.filterTimeout),this.filterTimeout=setTimeout(function(){t.loadProducts(1,t.sortBy,t.priceMin,t.priceMax,t.searchQuery)},500)},onSortChange:function(){this.loadProducts(1,this.sortBy,this.priceMin,this.priceMax,this.searchQuery)},formatCurrency:function(t){return new Intl.NumberFormat("id-ID").format(t)},truncateText:function(t,r){return t?t.length>r?t.substring(0,r)+"...":t:""},getProductImage:function(t){return t.thumbnail?t.thumbnail.startsWith("http")?t.thumbnail:"/storage/"+t.thumbnail:"https://www.aaronfaber.com/wp-content/uploads/2017/03/product-placeholder-wp.jpg"},onImageError:function(t){t.target.src="https://www.aaronfaber.com/wp-content/uploads/2017/03/product-placeholder-wp.jpg"}}};var s=e(5072),l=e.n(s),p=e(7029),d={insert:"head",singleton:!1};l()(p.A,d);p.A.locals;const f=(0,e(4486).A)(u,function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("app-layout",[e("b-container",[e("b-row",{staticClass:"mb-4"},[e("b-col",[e("h1",[t._v("Our Photobook Collection")]),t._v(" "),t.searchQuery?e("p",{staticClass:"text-muted"},[t._v('Search results for: "'+t._s(t.searchQuery)+'"')]):e("p",{staticClass:"text-muted"},[t._v("Discover our premium photobook products")])])],1),t._v(" "),t.loading?e("b-row",[e("b-col",{staticClass:"text-center py-5",attrs:{cols:"12"}},[e("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{variant:"primary"}}),t._v(" "),e("p",{staticClass:"mt-3"},[t._v("Loading our amazing products...")])],1)],1):t.error?e("b-row",[e("b-col",{attrs:{cols:"12"}},[e("b-alert",{attrs:{variant:"danger",show:""}},[e("h4",[e("b-icon",{attrs:{icon:"exclamation-triangle"}}),t._v(" Error")],1),t._v(" "),e("p",[t._v(t._s(t.error))]),t._v(" "),e("b-button",{attrs:{variant:"primary"},on:{click:t.loadProducts}},[t._v("Try Again")])],1)],1)],1):e("b-row",[e("b-col",{staticClass:"mb-4",attrs:{cols:"12"}},[e("b-card",[e("b-row",{staticClass:"align-items-center"},[e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{label:"Filter Harga:"}},[e("b-row",[e("b-col",[e("b-form-input",{attrs:{type:"number",placeholder:"Min (Rp)"},on:{input:t.onFilterChange},model:{value:t.priceMin,callback:function(r){t.priceMin=r},expression:"priceMin"}})],1),t._v(" "),e("b-col",[e("b-form-input",{attrs:{type:"number",placeholder:"Max (Rp)"},on:{input:t.onFilterChange},model:{value:t.priceMax,callback:function(r){t.priceMax=r},expression:"priceMax"}})],1)],1)],1)],1),t._v(" "),e("b-col",{staticClass:"text-md-right mt-2 mt-md-0",attrs:{md:"6"}},[e("b-form-select",{attrs:{options:t.sortOptions},on:{change:t.onSortChange},model:{value:t.sortBy,callback:function(r){t.sortBy=r},expression:"sortBy"}})],1)],1)],1)],1),t._v(" "),0===t.products.length?e("b-col",{staticClass:"text-center py-5",attrs:{cols:"12"}},[e("b-icon",{attrs:{icon:"images","font-scale":"3",variant:"secondary"}}),t._v(" "),e("h4",{staticClass:"mt-3"},[t._v("No products found")]),t._v(" "),e("p",[t._v("Try adjusting your search or filter criteria")])],1):t._e(),t._v(" "),t._l(t.products,function(r){return e("b-col",{key:r.id,staticClass:"mb-4",attrs:{md:"4"}},[e("b-card",{staticClass:"h-100 product-card shadow-sm",attrs:{"no-body":""}},[e("div",{staticClass:"position-relative"},[e("b-card-img",{staticClass:"product-image",attrs:{src:t.getProductImage(r),alt:r.name,top:""},on:{error:t.onImageError}}),t._v(" "),r.is_active?t._e():e("b-badge",{staticClass:"position-absolute",staticStyle:{top:"10px",right:"10px"},attrs:{variant:"danger"}},[t._v("\n              Inactive\n            ")])],1),t._v(" "),e("b-card-body",{staticClass:"d-flex flex-column"},[e("b-card-title",{staticClass:"mb-2"},[t._v(t._s(r.name))]),t._v(" "),e("b-card-text",{staticClass:"text-muted small mb-3"},[t._v("\n              "+t._s(t.truncateText(r.description,100))+"\n            ")]),t._v(" "),e("div",{staticClass:"mt-auto"},[e("div",{staticClass:"d-flex justify-content-between align-items-center mb-3"},[e("h5",{staticClass:"text-primary mb-0"},[t._v("Rp "+t._s(t.formatCurrency(r.price)))]),t._v(" "),e("div",[r.templates&&r.templates.length>0?e("b-badge",{staticClass:"mr-1",attrs:{variant:"info"}},[t._v("\n                    "+t._s(r.templates.length)+" Templates\n                  ")]):t._e(),t._v(" "),r.total_sold>0?e("b-badge",{attrs:{variant:"success"}},[t._v("\n                    "+t._s(r.total_sold)+" Sold\n                  ")]):t._e()],1)]),t._v(" "),e("b-button",{attrs:{variant:"primary",block:"",to:{name:"ProductDetail",params:{id:r.id}}}},[e("b-icon",{attrs:{icon:"eye"}}),t._v(" View Details\n              ")],1)],1)],1)],1)],1)})],2),t._v(" "),t.pagination&&t.pagination.last_page>1?e("b-row",[e("b-col",{staticClass:"d-flex justify-content-center",attrs:{cols:"12"}},[e("b-pagination",{attrs:{"total-rows":t.pagination.total,"per-page":t.pagination.per_page,"first-number":"","last-number":""},on:{change:t.onPageChange},model:{value:t.currentPage,callback:function(r){t.currentPage=r},expression:"currentPage"}})],1)],1):t._e()],1)],1)},[],!1,null,"4c6ed88f",null).exports},7728:(t,r,e)=>{e.d(r,{A:()=>p});var n=e(7304);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(){var t,r,e="function"==typeof Symbol?Symbol:{},n=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function c(e,n,o,a){var c=n&&n.prototype instanceof s?n:s,l=Object.create(c.prototype);return i(l,"_invoke",function(e,n,o){var a,i,c,s=0,l=o||[],p=!1,d={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(r,e){return a=r,i=0,c=t,d.n=e,u}};function f(e,n){for(i=e,c=n,r=0;!p&&s&&!o&&r<l.length;r++){var o,a=l[r],f=d.p,v=a[2];e>3?(o=v===n)&&(c=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=f&&((o=e<2&&f<a[1])?(i=0,d.v=n,d.n=a[1]):f<v&&(o=e<3||a[0]>n||n>v)&&(a[4]=e,a[5]=n,d.n=v,i=0))}if(o||e>1)return u;throw p=!0,n}return function(o,l,v){if(s>1)throw TypeError("Generator is already running");for(p&&1===l&&f(l,v),i=l,c=v;(r=i<2?t:c)||!p;){a||(i?i<3?(i>1&&(d.n=-1),f(i,c)):d.n=c:d.v=c);try{if(s=2,a){if(i||(o="next"),r=a[o]){if(!(r=r.call(a,c)))throw TypeError("iterator result is not an object");if(!r.done)return r;c=r.value,i<2&&(i=0)}else 1===i&&(r=a.return)&&r.call(a),i<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=t}else if((r=(p=d.n<0)?c:e.call(n,d))!==u)break}catch(r){a=t,i=1,c=r}finally{s=1}}return{value:r,done:p}}}(e,o,a),!0),l}var u={};function s(){}function l(){}function p(){}r=Object.getPrototypeOf;var d=[][n]?r(r([][n]())):(i(r={},n,function(){return this}),r),f=p.prototype=s.prototype=Object.create(d);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,i(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return l.prototype=p,i(f,"constructor",p),i(p,"constructor",l),l.displayName="GeneratorFunction",i(p,o,"GeneratorFunction"),i(f),i(f,o,"Generator"),i(f,n,function(){return this}),i(f,"toString",function(){return"[object Generator]"}),(a=function(){return{w:c,m:v}})()}function i(t,r,e,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}i=function(t,r,e,n){if(r)o?o(t,r,{value:e,enumerable:!n,configurable:!n,writable:!n}):t[r]=e;else{var a=function(r,e){i(t,r,function(t){return this._invoke(r,e,t)})};a("next",0),a("throw",1),a("return",2)}},i(t,r,e,n)}function c(t,r,e,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void e(t)}c.done?r(u):Promise.resolve(u).then(n,o)}function u(t){return function(){var r=this,e=arguments;return new Promise(function(n,o){var a=t.apply(r,e);function i(t){c(a,n,o,i,u,"next",t)}function u(t){c(a,n,o,i,u,"throw",t)}i(void 0)})}}function s(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function l(t){var r=function(t,r){if("object"!=o(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,r||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==o(r)?r:r+""}const p=new(function(){return t=function t(){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t)},r=[{key:"getProducts",value:(v=u(a().m(function t(){var r,e,o,i,c=arguments;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return r=c.length>0&&void 0!==c[0]?c[0]:{},t.p=1,t.n=2,n.A.get("/products",{params:r});case 2:return e=t.v,t.a(2,e.data);case 3:throw t.p=3,i=t.v,(null===(o=i.response)||void 0===o?void 0:o.data)||{error:"Failed to fetch products"};case 4:return t.a(2)}},t,null,[[1,3]])})),function(){return v.apply(this,arguments)})},{key:"getProduct",value:(f=u(a().m(function t(r){var e,o,i;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,n.A.get("/products/".concat(r));case 1:return e=t.v,t.a(2,e.data);case 2:throw t.p=2,i=t.v,(null===(o=i.response)||void 0===o?void 0:o.data)||{error:"Failed to fetch product"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return f.apply(this,arguments)})},{key:"getProductTemplates",value:(d=u(a().m(function t(r){var e,o,i;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,n.A.get("/products/".concat(r,"/templates"));case 1:return e=t.v,t.a(2,e.data);case 2:throw t.p=2,i=t.v,(null===(o=i.response)||void 0===o?void 0:o.data)||{error:"Failed to fetch templates"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return d.apply(this,arguments)})},{key:"getAdminProducts",value:(p=u(a().m(function t(){var r,e,o,i,c=arguments;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return r=c.length>0&&void 0!==c[0]?c[0]:{},t.p=1,t.n=2,n.A.get("/admin/products",{params:r});case 2:return e=t.v,t.a(2,e.data);case 3:throw t.p=3,i=t.v,console.error("ProductService.getAdminProducts failed:",i),(null===(o=i.response)||void 0===o?void 0:o.data)||{error:"Failed to fetch admin products"};case 4:return t.a(2)}},t,null,[[1,3]])})),function(){return p.apply(this,arguments)})},{key:"getAdminProduct",value:(l=u(a().m(function t(r){var e,o,i;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,n.A.get("/admin/products/".concat(r));case 1:return e=t.v,t.a(2,e.data);case 2:throw t.p=2,i=t.v,console.error("ProductService.getAdminProduct(".concat(r,") failed:"),i),(null===(o=i.response)||void 0===o?void 0:o.data)||{error:"Failed to fetch admin product details"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return l.apply(this,arguments)})},{key:"createAdminProduct",value:(c=u(a().m(function t(r){var e,o,i;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,n.A.post("/admin/products",r);case 1:return e=t.v,t.a(2,e.data);case 2:throw t.p=2,i=t.v,console.error("ProductService.createAdminProduct failed:",i),(null===(o=i.response)||void 0===o?void 0:o.data)||{error:"Failed to create product"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return c.apply(this,arguments)})},{key:"updateAdminProduct",value:(i=u(a().m(function t(r,e){var o,i,c;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,n.A.post("/admin/products/".concat(r),e);case 1:return o=t.v,t.a(2,o.data);case 2:throw t.p=2,c=t.v,console.error("ProductService.updateAdminProduct(".concat(r,") failed:"),c),(null===(i=c.response)||void 0===i?void 0:i.data)||{error:"Failed to update product"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t,r){return i.apply(this,arguments)})},{key:"deleteAdminProduct",value:(o=u(a().m(function t(r){var e,o,i;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,n.A.delete("/admin/products/".concat(r));case 1:return e=t.v,t.a(2,e.data);case 2:throw t.p=2,i=t.v,console.error("ProductService.deleteAdminProduct(".concat(r,") failed:"),i),(null===(o=i.response)||void 0===o?void 0:o.data)||{error:"Failed to delete product"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return o.apply(this,arguments)})}],r&&s(t.prototype,r),e&&s(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,e,o,i,c,l,p,d,f,v}())}}]);