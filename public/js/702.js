/*! For license information please see 702.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[702],{3990:(r,e,t)=>{t.d(e,{A:()=>f});var n=t(7304);function o(r){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},o(r)}function a(){var r,e,t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function s(t,n,o,a){var s=n&&n.prototype instanceof c?n:c,l=Object.create(s.prototype);return i(l,"_invoke",function(t,n,o){var a,i,s,c=0,l=o||[],f=!1,d={p:0,n:0,v:r,a:p,f:p.bind(r,4),d:function(e,t){return a=e,i=0,s=r,d.n=t,u}};function p(t,n){for(i=t,s=n,e=0;!f&&c&&!o&&e<l.length;e++){var o,a=l[e],p=d.p,m=a[2];t>3?(o=m===n)&&(s=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=r):a[0]<=p&&((o=t<2&&p<a[1])?(i=0,d.v=n,d.n=a[1]):p<m&&(o=t<3||a[0]>n||n>m)&&(a[4]=t,a[5]=n,d.n=m,i=0))}if(o||t>1)return u;throw f=!0,n}return function(o,l,m){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),i=l,s=m;(e=i<2?r:s)||!f;){a||(i?i<3?(i>1&&(d.n=-1),p(i,s)):d.n=s:d.v=s);try{if(c=2,a){if(i||(o="next"),e=a[o]){if(!(e=e.call(a,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=r}else if((e=(f=d.n<0)?s:t.call(n,d))!==u)break}catch(e){a=r,i=1,s=e}finally{c=1}}return{value:e,done:f}}}(t,o,a),!0),l}var u={};function c(){}function l(){}function f(){}e=Object.getPrototypeOf;var d=[][n]?e(e([][n]())):(i(e={},n,function(){return this}),e),p=f.prototype=c.prototype=Object.create(d);function m(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,f):(r.__proto__=f,i(r,o,"GeneratorFunction")),r.prototype=Object.create(p),r}return l.prototype=f,i(p,"constructor",f),i(f,"constructor",l),l.displayName="GeneratorFunction",i(f,o,"GeneratorFunction"),i(p),i(p,o,"Generator"),i(p,n,function(){return this}),i(p,"toString",function(){return"[object Generator]"}),(a=function(){return{w:s,m}})()}function i(r,e,t,n){var o=Object.defineProperty;try{o({},"",{})}catch(r){o=0}i=function(r,e,t,n){if(e)o?o(r,e,{value:t,enumerable:!n,configurable:!n,writable:!n}):r[e]=t;else{var a=function(e,t){i(r,e,function(r){return this._invoke(e,t,r)})};a("next",0),a("throw",1),a("return",2)}},i(r,e,t,n)}function s(r,e,t,n,o,a,i){try{var s=r[a](i),u=s.value}catch(r){return void t(r)}s.done?e(u):Promise.resolve(u).then(n,o)}function u(r){return function(){var e=this,t=arguments;return new Promise(function(n,o){var a=r.apply(e,t);function i(r){s(a,n,o,i,u,"next",r)}function u(r){s(a,n,o,i,u,"throw",r)}i(void 0)})}}function c(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,l(n.key),n)}}function l(r){var e=function(r,e){if("object"!=o(r)||!r)return r;var t=r[Symbol.toPrimitive];if(void 0!==t){var n=t.call(r,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(r)}(r,"string");return"symbol"==o(e)?e:e+""}const f=new(function(){return r=function r(){!function(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r)},e=[{key:"getAdminUsers",value:(f=u(a().m(function r(){var e,t,o,i,s=arguments;return a().w(function(r){for(;;)switch(r.p=r.n){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:{},r.p=1,r.n=2,n.A.get("/admin/users",{params:e});case 2:return t=r.v,r.a(2,t.data);case 3:throw r.p=3,i=r.v,console.error("UserService.getAdminUsers failed:",i),(null===(o=i.response)||void 0===o?void 0:o.data)||{error:"Failed to fetch admin users"};case 4:return r.a(2)}},r,null,[[1,3]])})),function(){return f.apply(this,arguments)})},{key:"getAdminUser",value:(l=u(a().m(function r(e){var t,o,i;return a().w(function(r){for(;;)switch(r.p=r.n){case 0:return r.p=0,r.n=1,n.A.get("/admin/users/".concat(e));case 1:return t=r.v,r.a(2,t.data);case 2:throw r.p=2,i=r.v,console.error("UserService.getAdminUser(".concat(e,") failed:"),i),(null===(o=i.response)||void 0===o?void 0:o.data)||{error:"Failed to fetch admin user details"};case 3:return r.a(2)}},r,null,[[0,2]])})),function(r){return l.apply(this,arguments)})},{key:"createAdminUser",value:(s=u(a().m(function r(e){var t,o,i;return a().w(function(r){for(;;)switch(r.p=r.n){case 0:return r.p=0,r.n=1,n.A.post("/admin/users",e);case 1:return t=r.v,r.a(2,t.data);case 2:throw r.p=2,i=r.v,console.error("UserService.createAdminUser failed:",i),(null===(o=i.response)||void 0===o?void 0:o.data)||{error:"Failed to create admin user"};case 3:return r.a(2)}},r,null,[[0,2]])})),function(r){return s.apply(this,arguments)})},{key:"updateAdminUser",value:(i=u(a().m(function r(e,t){var o,i,s;return a().w(function(r){for(;;)switch(r.p=r.n){case 0:return r.p=0,r.n=1,n.A.put("/admin/users/".concat(e),t);case 1:return o=r.v,r.a(2,o.data);case 2:throw r.p=2,s=r.v,console.error("UserService.updateAdminUser(".concat(e,") failed:"),s),(null===(i=s.response)||void 0===i?void 0:i.data)||{error:"Failed to update admin user"};case 3:return r.a(2)}},r,null,[[0,2]])})),function(r,e){return i.apply(this,arguments)})},{key:"deleteAdminUser",value:(o=u(a().m(function r(e){var t,o,i;return a().w(function(r){for(;;)switch(r.p=r.n){case 0:return r.p=0,r.n=1,n.A.delete("/admin/users/".concat(e));case 1:return t=r.v,r.a(2,t.data);case 2:throw r.p=2,i=r.v,console.error("UserService.deleteAdminUser(".concat(e,") failed:"),i),(null===(o=i.response)||void 0===o?void 0:o.data)||{error:"Failed to delete admin user"};case 3:return r.a(2)}},r,null,[[0,2]])})),function(r){return o.apply(this,arguments)})}],e&&c(r.prototype,e),t&&c(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,e,t,o,i,s,l,f}())},5702:(r,e,t)=>{t.r(e),t.d(e,{default:()=>y});var n=t(3990);function o(r){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},o(r)}function a(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),t.push.apply(t,n)}return t}function i(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?a(Object(t),!0).forEach(function(e){s(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}function s(r,e,t){return(e=function(r){var e=function(r,e){if("object"!=o(r)||!r)return r;var t=r[Symbol.toPrimitive];if(void 0!==t){var n=t.call(r,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(r)}(r,"string");return"symbol"==o(e)?e:e+""}(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function u(){var r,e,t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function a(t,n,o,a){var u=n&&n.prototype instanceof s?n:s,l=Object.create(u.prototype);return c(l,"_invoke",function(t,n,o){var a,s,u,c=0,l=o||[],f=!1,d={p:0,n:0,v:r,a:p,f:p.bind(r,4),d:function(e,t){return a=e,s=0,u=r,d.n=t,i}};function p(t,n){for(s=t,u=n,e=0;!f&&c&&!o&&e<l.length;e++){var o,a=l[e],p=d.p,m=a[2];t>3?(o=m===n)&&(u=a[(s=a[4])?5:(s=3,3)],a[4]=a[5]=r):a[0]<=p&&((o=t<2&&p<a[1])?(s=0,d.v=n,d.n=a[1]):p<m&&(o=t<3||a[0]>n||n>m)&&(a[4]=t,a[5]=n,d.n=m,s=0))}if(o||t>1)return i;throw f=!0,n}return function(o,l,m){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),s=l,u=m;(e=s<2?r:u)||!f;){a||(s?s<3?(s>1&&(d.n=-1),p(s,u)):d.n=u:d.v=u);try{if(c=2,a){if(s||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=a.return)&&e.call(a),s<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),s=1);a=r}else if((e=(f=d.n<0)?u:t.call(n,d))!==i)break}catch(e){a=r,s=1,u=e}finally{c=1}}return{value:e,done:f}}}(t,o,a),!0),l}var i={};function s(){}function l(){}function f(){}e=Object.getPrototypeOf;var d=[][n]?e(e([][n]())):(c(e={},n,function(){return this}),e),p=f.prototype=s.prototype=Object.create(d);function m(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,f):(r.__proto__=f,c(r,o,"GeneratorFunction")),r.prototype=Object.create(p),r}return l.prototype=f,c(p,"constructor",f),c(f,"constructor",l),l.displayName="GeneratorFunction",c(f,o,"GeneratorFunction"),c(p),c(p,o,"Generator"),c(p,n,function(){return this}),c(p,"toString",function(){return"[object Generator]"}),(u=function(){return{w:a,m}})()}function c(r,e,t,n){var o=Object.defineProperty;try{o({},"",{})}catch(r){o=0}c=function(r,e,t,n){if(e)o?o(r,e,{value:t,enumerable:!n,configurable:!n,writable:!n}):r[e]=t;else{var a=function(e,t){c(r,e,function(r){return this._invoke(e,t,r)})};a("next",0),a("throw",1),a("return",2)}},c(r,e,t,n)}function l(r,e,t,n,o,a,i){try{var s=r[a](i),u=s.value}catch(r){return void t(r)}s.done?e(u):Promise.resolve(u).then(n,o)}function f(r){return function(){var e=this,t=arguments;return new Promise(function(n,o){var a=r.apply(e,t);function i(r){l(a,n,o,i,s,"next",r)}function s(r){l(a,n,o,i,s,"throw",r)}i(void 0)})}}const d={name:"AdminUserEdit",props:{id:{type:[String,Number],required:!0}},data:function(){return{loading:!1,user:null,errorMessage:"",isSubmitting:!1,form:{name:"",email:"",password:"",password_confirmation:""},errors:{}}},created:function(){this.fetchUser()},methods:{fetchUser:function(){var r=this;return f(u().m(function e(){var t,o,a;return u().w(function(e){for(;;)switch(e.p=e.n){case 0:return r.loading=!0,r.errorMessage="",e.p=1,t=r.id,e.n=2,n.A.getAdminUser(t);case 2:o=e.v,r.user=o,r.form.name=o.name,r.form.email=o.email,e.n=4;break;case 3:e.p=3,a=e.v,console.error("Failed to fetch admin user details:",a),r.errorMessage=a.error||"Failed to load admin user details. Please try again.";case 4:return e.p=4,r.loading=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}))()},getValidationState:function(r){return void 0===this.errors[r]?null:!this.errors[r]},submitForm:function(){var r=this;return f(u().m(function e(){var t,o,a,s;return u().w(function(e){for(;;)switch(e.p=e.n){case 0:return r.isSubmitting=!0,r.errors={},e.p=1,t=i({},r.form),e.n=2,n.A.updateAdminUser(r.id,t);case 2:o=e.v,r.$bvToast.toast("Admin user '".concat(o.name,"' updated successfully."),{title:"Success",variant:"success",solid:!0}),r.$router.push({name:"AdminUserIndex"}),e.n=4;break;case 3:e.p=3,s=e.v,console.error("Failed to update admin user:",s),a=s.error||"Failed to update admin user. Please try again.",s.errors?(r.errors=s.errors,a&&0===Object.keys(s.errors).length&&r.$bvToast.toast(a,{title:"Validation Error",variant:"danger",solid:!0})):r.$bvToast.toast(a,{title:"Error",variant:"danger",solid:!0});case 4:return e.p=4,r.isSubmitting=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}))()}}};var p=t(5072),m=t.n(p),v=t(8151),b={insert:"head",singleton:!1};m()(v.A,b);v.A.locals;const y=(0,t(4486).A)(d,function(){var r=this,e=r.$createElement,t=r._self._c||e;return r.user?t("div",[t("b-row",{staticClass:"mb-3"},[t("b-col",[t("h2",[r._v("Edit Admin User: "+r._s(r.user.name))])])],1),r._v(" "),t("b-card",[t("b-form",{on:{submit:function(e){return e.preventDefault(),r.submitForm.apply(null,arguments)}}},[t("b-form-group",{attrs:{label:"Name:","label-for":"user-name"}},[t("b-form-input",{attrs:{id:"user-name",required:"",placeholder:"Enter full name",state:r.getValidationState("name")},model:{value:r.form.name,callback:function(e){r.$set(r.form,"name",e)},expression:"form.name"}}),r._v(" "),t("b-form-invalid-feedback",{attrs:{state:r.getValidationState("name")}},[r._v("\n          "+r._s(r.errors.name)+"\n        ")])],1),r._v(" "),t("b-form-group",{attrs:{label:"Email:","label-for":"user-email"}},[t("b-form-input",{attrs:{id:"user-email",type:"email",required:"",placeholder:"Enter email address",state:r.getValidationState("email")},model:{value:r.form.email,callback:function(e){r.$set(r.form,"email",e)},expression:"form.email"}}),r._v(" "),t("b-form-invalid-feedback",{attrs:{state:r.getValidationState("email")}},[r._v("\n          "+r._s(r.errors.email)+"\n        ")])],1),r._v(" "),t("hr"),r._v(" "),t("h5",[r._v("Change Password (Leave blank to keep current password)")]),r._v(" "),t("b-form-group",{attrs:{label:"New Password:","label-for":"user-password"}},[t("b-form-input",{attrs:{id:"user-password",type:"password",placeholder:"Enter new password",state:r.getValidationState("password")},model:{value:r.form.password,callback:function(e){r.$set(r.form,"password",e)},expression:"form.password"}}),r._v(" "),t("b-form-invalid-feedback",{attrs:{state:r.getValidationState("password")}},[r._v("\n          "+r._s(r.errors.password)+"\n        ")])],1),r._v(" "),t("b-form-group",{attrs:{label:"Confirm New Password:","label-for":"user-password-confirmation"}},[t("b-form-input",{attrs:{id:"user-password-confirmation",type:"password",placeholder:"Confirm new password",state:r.getValidationState("password_confirmation")},model:{value:r.form.password_confirmation,callback:function(e){r.$set(r.form,"password_confirmation",e)},expression:"form.password_confirmation"}}),r._v(" "),t("b-form-invalid-feedback",{attrs:{state:r.getValidationState("password_confirmation")}},[r._v("\n          "+r._s(r.errors.password_confirmation)+"\n        ")])],1),r._v(" "),t("b-button",{attrs:{type:"submit",variant:"primary",disabled:r.isSubmitting}},[r.isSubmitting?t("b-spinner",{attrs:{small:""}}):r._e(),r._v("\n        "+r._s(r.isSubmitting?"Updating...":"Update Admin User")+"\n      ")],1),r._v(" "),t("b-button",{staticClass:"ml-2",attrs:{variant:"secondary",to:{name:"AdminUserIndex"}}},[r._v("\n        Cancel\n      ")])],1)],1)],1):r.loading?t("div",[t("b-spinner",{attrs:{variant:"primary",label:"Loading..."}}),r._v(" Loading user details...\n")],1):t("div",[t("b-alert",{attrs:{variant:"danger",show:""}},[t("h4",[r._v("Error loading user")]),r._v(" "),r.errorMessage?t("p",[r._v(r._s(r.errorMessage))]):t("p",[r._v("User not found or an error occurred.")]),r._v(" "),t("b-button",{attrs:{variant:"secondary",to:{name:"AdminUserIndex"}}},[r._v("Back to List")])],1)],1)},[],!1,null,"31b99cb8",null).exports},8151:(r,e,t)=>{t.d(e,{A:()=>a});var n=t(6314),o=t.n(n)()(function(r){return r[1]});o.push([r.id,"",""]);const a=o}}]);