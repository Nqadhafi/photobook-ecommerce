/*! For license information please see 885.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[885],{560:(t,r,e)=>{e.d(r,{A:()=>o});var a=e(6314),n=e.n(a)()(function(t){return t[1]});n.push([t.id,"[data-v-8bc1629a]:root{--soft:#f8fafc}.muted[data-v-8bc1629a]{color:#64748b}.text-primary-600[data-v-8bc1629a]{color:#0ea5e9}.quick-card[data-v-8bc1629a]{border-radius:.9rem;transition:transform .18s ease,box-shadow .18s ease}.quick-card[data-v-8bc1629a]:hover{box-shadow:0 14px 32px rgba(2,132,199,.08);transform:translateY(-3px)}.icon-wrap[data-v-8bc1629a]{align-items:center;background:#e0f2fe;border-radius:999px;color:#0ea5e9;display:inline-flex;height:48px;justify-content:center;width:48px}.icon-wrap.success[data-v-8bc1629a]{background:#dcfce7;color:#16a34a}.icon-wrap.info[data-v-8bc1629a]{background:#e0e7ff;color:#4f46e5}.soft-card[data-v-8bc1629a]{border-radius:.9rem;box-shadow:0 10px 24px rgba(2,132,199,.06)!important}.order-mini-card[data-v-8bc1629a]{background:#fff;border:1px solid #eef2f7;border-radius:.9rem;box-shadow:0 4px 14px rgba(15,23,42,.02);cursor:pointer;margin-bottom:.6rem;padding:.75rem .9rem}.order-mini-card .top[data-v-8bc1629a]{align-items:center;display:flex;justify-content:space-between;margin-bottom:.25rem}.order-mini-card .ord[data-v-8bc1629a]{color:#0f172a;font-weight:800}.order-mini-card .date[data-v-8bc1629a]{color:#64748b;font-size:.85rem}.order-mini-card .right[data-v-8bc1629a]{color:#0ea5e9;font-weight:800}.order-mini-card .bottom[data-v-8bc1629a]{align-items:center;display:flex;justify-content:space-between}.order-mini-card .chev[data-v-8bc1629a]{color:#94a3b8}.status-chip[data-v-8bc1629a]{align-items:center;border:1px solid transparent;border-radius:999px;display:inline-flex;font-size:.78rem;font-weight:700;padding:.2rem .55rem;white-space:nowrap}.status-pending[data-v-8bc1629a]{background:#fff7ed;border-color:#fde68a;color:#b45309}.status-paid[data-v-8bc1629a]{background:#eff6ff;border-color:#bfdbfe;color:#1d4ed8}.status-file_upload[data-v-8bc1629a]{background:#ecfeff;border-color:#a5f3fc;color:#0e7490}.status-processing[data-v-8bc1629a]{background:#eef2ff;border-color:#c7d2fe;color:#4338ca}.status-ready[data-v-8bc1629a]{background:#ecfdf5;border-color:#a7f3d0;color:#047857}.status-completed[data-v-8bc1629a]{background:#f0fdf4;border-color:#bbf7d0;color:#065f46}.status-cancelled[data-v-8bc1629a]{background:#fef2f2;border-color:#fecaca;color:#b91c1c}.status-other[data-v-8bc1629a]{background:#f1f5f9;border-color:#e2e8f0;color:#334155}",""]);const o=n},885:(t,r,e)=>{e.r(r),e.d(r,{default:()=>_});var a=e(5353),n=e(4065);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function s(){var t,r,e="function"==typeof Symbol?Symbol:{},a=e.iterator||"@@iterator",n=e.toStringTag||"@@toStringTag";function o(e,a,n,o){var s=a&&a.prototype instanceof d?a:d,l=Object.create(s.prototype);return c(l,"_invoke",function(e,a,n){var o,s,c,d=0,l=n||[],u=!1,b={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(r,e){return o=r,s=0,c=t,b.n=e,i}};function f(e,a){for(s=e,c=a,r=0;!u&&d&&!n&&r<l.length;r++){var n,o=l[r],f=b.p,m=o[2];e>3?(n=m===a)&&(c=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=t):o[0]<=f&&((n=e<2&&f<o[1])?(s=0,b.v=a,b.n=o[1]):f<m&&(n=e<3||o[0]>a||a>m)&&(o[4]=e,o[5]=a,b.n=m,s=0))}if(n||e>1)return i;throw u=!0,a}return function(n,l,m){if(d>1)throw TypeError("Generator is already running");for(u&&1===l&&f(l,m),s=l,c=m;(r=s<2?t:c)||!u;){o||(s?s<3?(s>1&&(b.n=-1),f(s,c)):b.n=c:b.v=c);try{if(d=2,o){if(s||(n="next"),r=o[n]){if(!(r=r.call(o,c)))throw TypeError("iterator result is not an object");if(!r.done)return r;c=r.value,s<2&&(s=0)}else 1===s&&(r=o.return)&&r.call(o),s<2&&(c=TypeError("The iterator does not provide a '"+n+"' method"),s=1);o=t}else if((r=(u=b.n<0)?c:e.call(a,b))!==i)break}catch(r){o=t,s=1,c=r}finally{d=1}}return{value:r,done:u}}}(e,n,o),!0),l}var i={};function d(){}function l(){}function u(){}r=Object.getPrototypeOf;var b=[][a]?r(r([][a]())):(c(r={},a,function(){return this}),r),f=u.prototype=d.prototype=Object.create(b);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,c(t,n,"GeneratorFunction")),t.prototype=Object.create(f),t}return l.prototype=u,c(f,"constructor",u),c(u,"constructor",l),l.displayName="GeneratorFunction",c(u,n,"GeneratorFunction"),c(f),c(f,n,"Generator"),c(f,a,function(){return this}),c(f,"toString",function(){return"[object Generator]"}),(s=function(){return{w:o,m}})()}function c(t,r,e,a){var n=Object.defineProperty;try{n({},"",{})}catch(t){n=0}c=function(t,r,e,a){if(r)n?n(t,r,{value:e,enumerable:!a,configurable:!a,writable:!a}):t[r]=e;else{var o=function(r,e){c(t,r,function(t){return this._invoke(r,e,t)})};o("next",0),o("throw",1),o("return",2)}},c(t,r,e,a)}function i(t,r,e,a,n,o,s){try{var c=t[o](s),i=c.value}catch(t){return void e(t)}c.done?r(i):Promise.resolve(i).then(a,n)}function d(t){return function(){var r=this,e=arguments;return new Promise(function(a,n){var o=t.apply(r,e);function s(t){i(o,a,n,s,c,"next",t)}function c(t){i(o,a,n,s,c,"throw",t)}s(void 0)})}}function l(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),e.push.apply(e,a)}return e}function u(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?l(Object(e),!0).forEach(function(r){b(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):l(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function b(t,r,e){return(r=function(t){var r=function(t,r){if("object"!=o(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var a=e.call(t,r||"default");if("object"!=o(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==o(r)?r:r+""}(r))in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}const f={name:"Dashboard",data:function(){return{recentOrders:[],loadingRecent:!1,errorRecent:null,orderFields:[{key:"order_number",label:"Order"},{key:"created_at",label:"Date"},{key:"status",label:"Status"},{key:"total_amount",label:"Total",class:"text-right"},{key:"actions",label:"",class:"text-right"}]}},computed:u(u(u({},(0,a.L8)("auth",["user"])),(0,a.L8)("cart",["cartItemCount"])),{},{userName:function(){return this.user?this.user.name:"Guest"}}),created:function(){var t=this;return d(s().m(function r(){return s().w(function(r){for(;;)switch(r.n){case 0:return r.n=1,t.loadRecentOrders();case 1:return r.a(2)}},r)}))()},methods:{loadRecentOrders:function(){var t=this;return d(s().m(function r(){var e,a,o,c,i;return s().w(function(r){for(;;)switch(r.p=r.n){case 0:return t.loadingRecent=!0,t.errorRecent=null,r.p=1,r.n=2,n.A.getOrders({page:1,per_page:5,limit:5,sort:"created_at_desc"});case 2:e=r.v,a=e&&(e.data||e.orders||e.items)||[],t.recentOrders=Array.isArray(a)?a.slice(0,5):[],r.n=4;break;case 3:r.p=3,i=r.v,console.error("Failed to load recent orders:",i),t.errorRecent=(null==i?void 0:i.message)||(null==i?void 0:i.error)||"Failed to load recent orders.",null===(o=t.$store)||void 0===o||null===(c=o.dispatch)||void 0===c||c.call(o,"showNotification",{title:"Error",message:t.errorRecent,type:"danger"});case 4:return r.p=4,t.loadingRecent=!1,r.f(4);case 5:return r.a(2)}},r,null,[[1,3,4,5]])}))()},formatStatus:function(t){return{pending:"Pending Payment",paid:"Payment Received",file_upload:"Awaiting Files",processing:"In Production",ready:"Ready for Pickup",completed:"Completed",cancelled:"Cancelled"}[t]||t||"â€”"},formatDate:function(t){if(!t)return"N/A";try{return new Date(t).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"})}catch(t){return"Invalid Date"}},formatCurrency:function(t){try{return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t||0)}catch(t){return"Rp 0"}}}};var m=e(5072),v=e.n(m),p=e(560),y={insert:"head",singleton:!1};v()(p.A,y);p.A.locals;const _=(0,e(4486).A)(f,function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("app-layout",[e("b-container",[e("b-row",{staticClass:"mb-3"},[e("b-col",[e("h2",{staticClass:"mb-1"},[t._v("Hi, "+t._s(t.userName)+" ðŸ‘‹")]),t._v(" "),e("p",{staticClass:"muted mb-0"},[t._v("Create beautiful photobooks with premium materials & easy templates.")])])],1),t._v(" "),e("b-row",{staticClass:"mt-3"},[e("b-col",{staticClass:"mb-3 mb-md-0",attrs:{md:"4"}},[e("b-card",{staticClass:"quick-card h-100 text-center border-0 shadow-sm"},[e("div",{staticClass:"icon-wrap"},[e("b-icon",{attrs:{icon:"images","font-scale":"1.6"}})],1),t._v(" "),e("b-card-title",{staticClass:"mt-2 mb-1"},[t._v("Browse Products")]),t._v(" "),e("b-card-text",{staticClass:"muted small"},[t._v("\n            Explore our collection of photobooks & templates.\n          ")]),t._v(" "),e("b-button",{attrs:{variant:"primary",to:{name:"Products"}}},[t._v("\n            View Products\n          ")])],1)],1),t._v(" "),e("b-col",{staticClass:"mb-3 mb-md-0",attrs:{md:"4"}},[e("b-card",{staticClass:"quick-card h-100 text-center border-0 shadow-sm"},[e("div",{staticClass:"icon-wrap success"},[e("b-icon",{attrs:{icon:"cart","font-scale":"1.6"}})],1),t._v(" "),e("b-card-title",{staticClass:"mt-2 mb-1"},[t._v("Your Cart")]),t._v(" "),e("b-card-text",{staticClass:"muted small"},[t._v("\n            You have "),e("strong",[t._v(t._s(t.cartItemCount))]),t._v(" "+t._s(1===t.cartItemCount?"item":"items")+" in your cart.\n          ")]),t._v(" "),e("b-button",{attrs:{variant:"success",to:{name:"Cart"}}},[t._v("\n            View Cart\n          ")])],1)],1),t._v(" "),e("b-col",{attrs:{md:"4"}},[e("b-card",{staticClass:"quick-card h-100 text-center border-0 shadow-sm"},[e("div",{staticClass:"icon-wrap info"},[e("b-icon",{attrs:{icon:"list","font-scale":"1.6"}})],1),t._v(" "),e("b-card-title",{staticClass:"mt-2 mb-1"},[t._v("Order History")]),t._v(" "),e("b-card-text",{staticClass:"muted small"},[t._v("\n            Track your previous orders & their status.\n          ")]),t._v(" "),e("b-button",{attrs:{variant:"info",to:{name:"Orders"}}},[t._v("\n            View Orders\n          ")])],1)],1)],1),t._v(" "),e("b-row",{staticClass:"mt-4"},[e("b-col",[e("b-card",{staticClass:"border-0 shadow-sm"},[e("div",{staticClass:"d-flex align-items-center justify-content-between mb-2"},[e("b-card-title",{staticClass:"mb-0"},[t._v("Recent Orders")]),t._v(" "),e("b-button",{attrs:{size:"sm",variant:"outline-primary",to:{name:"Orders"}}},[t._v("\n              See all\n            ")])],1),t._v(" "),t.loadingRecent?e("div",{staticClass:"text-center py-4"},[e("b-spinner",{attrs:{variant:"primary"}}),t._v(" "),e("div",{staticClass:"small muted mt-2"},[t._v("Loading your recent ordersâ€¦")])],1):t.errorRecent?e("b-alert",{staticClass:"mb-0",attrs:{show:"",variant:"danger"}},[t._v("\n            "+t._s(t.errorRecent)+"\n            "),e("b-button",{staticClass:"ml-2",attrs:{size:"sm",variant:"outline-light"},on:{click:t.loadRecentOrders}},[e("b-icon",{attrs:{icon:"arrow-repeat"}}),t._v(" Retry\n            ")],1)],1):t.recentOrders&&0!==t.recentOrders.length?e("div",{staticClass:"d-none d-md-block"},[e("b-table",{staticClass:"rounded overflow-hidden",attrs:{items:t.recentOrders,fields:t.orderFields,striped:"",hover:"",small:"",responsive:"md","head-variant":"light"},scopedSlots:t._u([{key:"cell(order_number)",fn:function(r){return[e("strong",[t._v("#"+t._s(r.item.order_number))])]}},{key:"cell(created_at)",fn:function(r){return[t._v("\n                "+t._s(t.formatDate(r.item.created_at))+"\n              ")]}},{key:"cell(status)",fn:function(r){return[e("span",{staticClass:"status-chip",class:"status-"+(r.item.status||"other")},[t._v("\n                  "+t._s(t.formatStatus(r.item.status))+"\n                ")])]}},{key:"cell(total_amount)",fn:function(r){return[t._v("\n                "+t._s(t.formatCurrency(r.item.total_amount))+"\n              ")]}},{key:"cell(actions)",fn:function(r){return[e("b-button",{attrs:{size:"sm",variant:"outline-primary",to:{name:"OrderDetail",params:{id:r.item.id}}}},[t._v("\n                  View\n                ")])]}}])})],1):e("div",{staticClass:"text-center py-4"},[e("b-icon",{staticClass:"text-primary-600",attrs:{icon:"clock-history","font-scale":"1.6"}}),t._v(" "),e("h5",{staticClass:"mt-2 mb-1"},[t._v("No Recent Orders")]),t._v(" "),e("p",{staticClass:"muted small mb-3"},[t._v("Start by choosing a photobook you like.")]),t._v(" "),e("b-button",{attrs:{variant:"primary",to:{name:"Products"}}},[t._v("\n              Browse Products\n            ")])],1),t._v(" "),t.recentOrders&&t.recentOrders.length?e("div",{staticClass:"d-md-none"},t._l(t.recentOrders,function(r){return e("div",{key:r.id,staticClass:"order-mini-card",on:{click:function(e){return t.$router.push({name:"OrderDetail",params:{id:r.id}})}}},[e("div",{staticClass:"top"},[e("div",{staticClass:"left"},[e("div",{staticClass:"ord"},[t._v("#"+t._s(r.order_number))]),t._v(" "),e("div",{staticClass:"date"},[t._v(t._s(t.formatDate(r.created_at)))])]),t._v(" "),e("div",{staticClass:"right"},[t._v(t._s(t.formatCurrency(r.total_amount)))])]),t._v(" "),e("div",{staticClass:"bottom"},[e("span",{staticClass:"status-chip",class:"status-"+(r.status||"other")},[t._v("\n                  "+t._s(t.formatStatus(r.status))+"\n                ")]),t._v(" "),e("b-icon",{staticClass:"chev",attrs:{icon:"chevron-right"}})],1)])}),0):t._e()],1)],1)],1)],1)],1)},[],!1,null,"8bc1629a",null).exports}}]);