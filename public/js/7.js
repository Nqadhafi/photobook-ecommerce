/*! For license information please see 7.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7],{2007:(t,e,r)=>{r.r(e),r.d(e,{default:()=>y});var o=r(5353),n=r(4065);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(){var t,e,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",n=r.toStringTag||"@@toStringTag";function a(r,o,n,a){var s=o&&o.prototype instanceof u?o:u,l=Object.create(s.prototype);return c(l,"_invoke",function(r,o,n){var a,s,c,u=0,l=n||[],m=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return a=e,s=0,c=t,p.n=r,i}};function d(r,o){for(s=r,c=o,e=0;!m&&u&&!n&&e<l.length;e++){var n,a=l[e],d=p.p,f=a[2];r>3?(n=f===o)&&(c=a[(s=a[4])?5:(s=3,3)],a[4]=a[5]=t):a[0]<=d&&((n=r<2&&d<a[1])?(s=0,p.v=o,p.n=a[1]):d<f&&(n=r<3||a[0]>o||o>f)&&(a[4]=r,a[5]=o,p.n=f,s=0))}if(n||r>1)return i;throw m=!0,o}return function(n,l,f){if(u>1)throw TypeError("Generator is already running");for(m&&1===l&&d(l,f),s=l,c=f;(e=s<2?t:c)||!m;){a||(s?s<3?(s>1&&(p.n=-1),d(s,c)):p.n=c:p.v=c);try{if(u=2,a){if(s||(n="next"),e=a[n]){if(!(e=e.call(a,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=a.return)&&e.call(a),s<2&&(c=TypeError("The iterator does not provide a '"+n+"' method"),s=1);a=t}else if((e=(m=p.n<0)?c:r.call(o,p))!==i)break}catch(e){a=t,s=1,c=e}finally{u=1}}return{value:e,done:m}}}(r,n,a),!0),l}var i={};function u(){}function l(){}function m(){}e=Object.getPrototypeOf;var p=[][o]?e(e([][o]())):(c(e={},o,function(){return this}),e),d=m.prototype=u.prototype=Object.create(p);function f(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,n,"GeneratorFunction")),t.prototype=Object.create(d),t}return l.prototype=m,c(d,"constructor",m),c(m,"constructor",l),l.displayName="GeneratorFunction",c(m,n,"GeneratorFunction"),c(d),c(d,n,"Generator"),c(d,o,function(){return this}),c(d,"toString",function(){return"[object Generator]"}),(s=function(){return{w:a,m:f}})()}function c(t,e,r,o){var n=Object.defineProperty;try{n({},"",{})}catch(t){n=0}c=function(t,e,r,o){if(e)n?n(t,e,{value:r,enumerable:!o,configurable:!o,writable:!o}):t[e]=r;else{var a=function(e,r){c(t,e,function(t){return this._invoke(e,r,t)})};a("next",0),a("throw",1),a("return",2)}},c(t,e,r,o)}function i(t,e,r,o,n,a,s){try{var c=t[a](s),i=c.value}catch(t){return void r(t)}c.done?e(i):Promise.resolve(i).then(o,n)}function u(t){return function(){var e=this,r=arguments;return new Promise(function(o,n){var a=t.apply(e,r);function s(t){i(a,o,n,s,c,"next",t)}function c(t){i(a,o,n,s,c,"throw",t)}s(void 0)})}}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,o)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach(function(e){p(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function p(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=a(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const d={name:"Checkout",data:function(){return{loading:!1,processing:!1,error:null,customerInfo:{name:"",email:"",phone:"",address:"",city:"",postal_code:"",province:""},orderNotes:"",agreeToTerms:!1}},computed:m({},(0,o.L8)("cart",["cartItems","cartTotal","isEmpty"])),created:function(){var t=this;return u(s().m(function e(){return s().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t.loadCheckoutData();case 1:return e.a(2)}},e)}))()},methods:m(m({},(0,o.i0)("cart",["loadCart"])),{},{loadCheckoutData:function(){var t=this;return u(s().m(function e(){var r,o,n;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:return t.loading=!0,e.p=1,e.n=2,t.$store.dispatch("cart/loadCart");case 2:(r=t.$store.getters["auth/user"])&&(t.customerInfo.name=r.name,t.customerInfo.email=r.email,(o=r.photobook_profile)&&(t.customerInfo.phone=o.phone_number||"",t.customerInfo.address=o.address||"",t.customerInfo.city=o.city||"",t.customerInfo.postal_code=o.postal_code||"",t.customerInfo.province=o.province||"")),e.n=4;break;case 3:e.p=3,n=e.v,console.error("Failed to load checkout ",n),t.$store.dispatch("showNotification",{title:"Error",message:"Failed to load checkout data",type:"danger"});case 4:return e.p=4,t.loading=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}))()},processCheckout:function(){var t=this;return u(s().m(function e(){var r,o,a;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.agreeToTerms){e.n=1;break}return t.$store.dispatch("showNotification",{title:"Error",message:"Please agree to the terms and conditions",type:"warning"}),e.a(2);case 1:return t.processing=!0,t.error=null,e.p=2,r={customer_info:t.customerInfo,notes:t.orderNotes},e.n=3,n.A.checkout(r);case 3:return o=e.v,t.$store.dispatch("showNotification",{title:"Success",message:"Order placed successfully!",type:"success"}),e.n=4,t.$store.dispatch("cart/loadCart");case 4:t.$router.push({name:"OrderDetail",params:{id:o.order.id}}),e.n=6;break;case 5:e.p=5,a=e.v,console.error("Checkout failed:",a),t.error=a.message||"Failed to process checkout. Please try again.",t.$store.dispatch("showNotification",{title:"Error",message:t.error,type:"danger"});case 6:return e.p=6,t.processing=!1,e.f(6);case 7:return e.a(2)}},e,null,[[2,5,6,7]])}))()},showTerms:function(){this.$bvModal.show("terms-modal")},getItemTotal:function(t){return t.quantity*t.product.price},formatCurrency:function(t){return new Intl.NumberFormat("id-ID").format(t)},getProductImage:function(t){return t.thumbnail?(t.thumbnail.startsWith("http"),t.thumbnail):"https://www.aaronfaber.com/wp-content/uploads/2017/03/product-placeholder-wp.jpg"},onImageError:function(t){t.target.src="https://www.aaronfaber.com/wp-content/uploads/2017/03/product-placeholder-wp.jpg"}})};var f=r(5072),b=r.n(f),v=r(8083),h={insert:"head",singleton:!1};b()(v.A,h);v.A.locals;const y=(0,r(4486).A)(d,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("app-layout",[r("b-container",[r("b-row",{staticClass:"mb-4"},[r("b-col",[r("h1",[r("b-icon",{attrs:{icon:"credit-card"}}),t._v(" Checkout\n        ")],1),t._v(" "),r("p",{staticClass:"text-muted"},[t._v("Complete your order")])])],1),t._v(" "),t.loading?r("b-row",[r("b-col",{staticClass:"text-center py-5",attrs:{cols:"12"}},[r("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{variant:"primary"}}),t._v(" "),r("p",{staticClass:"mt-3"},[t._v("Preparing your checkout...")])],1)],1):t.isEmpty?r("b-row",[r("b-col",{attrs:{cols:"12"}},[r("b-alert",{attrs:{variant:"warning",show:""}},[r("h4",[r("b-icon",{attrs:{icon:"exclamation-triangle"}}),t._v(" Empty Cart")],1),t._v(" "),r("p",[t._v("You don't have any items in your cart.")]),t._v(" "),r("b-button",{attrs:{variant:"primary",to:{name:"Products"}}},[r("b-icon",{attrs:{icon:"images"}}),t._v(" Browse Products\n          ")],1)],1)],1)],1):r("b-row",[r("b-col",{attrs:{lg:"8"}},[r("b-card",{staticClass:"mb-4"},[r("b-card-title",[r("b-icon",{attrs:{icon:"list"}}),t._v(" Order Summary\n          ")],1),t._v(" "),r("b-list-group",{attrs:{flush:""}},[t._l(t.cartItems,function(e){return r("b-list-group-item",{key:e.id,staticClass:"py-3"},[r("b-row",[r("b-col",{staticClass:"text-center mb-2 mb-md-0",attrs:{md:"2"}},[r("b-img",{staticClass:"product-thumbnail",attrs:{src:t.getProductImage(e.product),alt:e.product.name,rounded:"",fluid:""},on:{error:t.onImageError}})],1),t._v(" "),r("b-col",{attrs:{md:"6"}},[r("h6",{staticClass:"mb-1"},[t._v(t._s(e.product.name))]),t._v(" "),r("p",{staticClass:"text-muted small mb-0"},[t._v("\n                    Qty: "+t._s(e.quantity)+" Ã— Rp "+t._s(t.formatCurrency(e.product.price))+"\n                  ")])]),t._v(" "),r("b-col",{staticClass:"text-md-right",attrs:{md:"4"}},[r("strong",[t._v("Rp "+t._s(t.formatCurrency(t.getItemTotal(e))))])])],1)],1)}),t._v(" "),r("b-list-group-item",{staticClass:"d-flex justify-content-between bg-light"},[r("h5",{staticClass:"mb-0"},[t._v("Total")]),t._v(" "),r("h5",{staticClass:"mb-0 text-primary"},[t._v("Rp "+t._s(t.formatCurrency(t.cartTotal)))])])],2)],1),t._v(" "),r("b-card",{staticClass:"mb-4"},[r("b-card-title",[r("b-icon",{attrs:{icon:"person"}}),t._v(" Customer Information\n          ")],1),t._v(" "),r("b-form",{on:{submit:function(e){return e.preventDefault(),t.processCheckout.apply(null,arguments)}}},[r("b-row",[r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"Full Name *","label-for":"customer-name"}},[r("b-form-input",{attrs:{id:"customer-name",type:"text",required:"",disabled:t.processing},model:{value:t.customerInfo.name,callback:function(e){t.$set(t.customerInfo,"name",e)},expression:"customerInfo.name"}})],1)],1),t._v(" "),r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"Email *","label-for":"customer-email"}},[r("b-form-input",{attrs:{id:"customer-email",type:"email",required:"",disabled:t.processing},model:{value:t.customerInfo.email,callback:function(e){t.$set(t.customerInfo,"email",e)},expression:"customerInfo.email"}})],1)],1),t._v(" "),r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"Phone Number *","label-for":"customer-phone"}},[r("b-form-input",{attrs:{id:"customer-phone",type:"tel",required:"",disabled:t.processing},model:{value:t.customerInfo.phone,callback:function(e){t.$set(t.customerInfo,"phone",e)},expression:"customerInfo.phone"}})],1)],1),t._v(" "),r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"Address *","label-for":"customer-address"}},[r("b-form-input",{attrs:{id:"customer-address",type:"text",required:"",disabled:t.processing},model:{value:t.customerInfo.address,callback:function(e){t.$set(t.customerInfo,"address",e)},expression:"customerInfo.address"}})],1)],1),t._v(" "),r("b-col",{attrs:{md:"4"}},[r("b-form-group",{attrs:{label:"City *","label-for":"customer-city"}},[r("b-form-input",{attrs:{id:"customer-city",type:"text",required:"",disabled:t.processing},model:{value:t.customerInfo.city,callback:function(e){t.$set(t.customerInfo,"city",e)},expression:"customerInfo.city"}})],1)],1),t._v(" "),r("b-col",{attrs:{md:"4"}},[r("b-form-group",{attrs:{label:"Postal Code *","label-for":"customer-postal-code"}},[r("b-form-input",{attrs:{id:"customer-postal-code",type:"text",required:"",disabled:t.processing},model:{value:t.customerInfo.postal_code,callback:function(e){t.$set(t.customerInfo,"postal_code",e)},expression:"customerInfo.postal_code"}})],1)],1),t._v(" "),r("b-col",{attrs:{md:"4"}},[r("b-form-group",{attrs:{label:"Province *","label-for":"customer-province"}},[r("b-form-input",{attrs:{id:"customer-province",type:"text",required:"",disabled:t.processing},model:{value:t.customerInfo.province,callback:function(e){t.$set(t.customerInfo,"province",e)},expression:"customerInfo.province"}})],1)],1)],1),t._v(" "),r("b-form-group",{attrs:{label:"Order Notes (Optional)","label-for":"order-notes"}},[r("b-form-textarea",{attrs:{id:"order-notes",rows:"3","max-rows":"6",disabled:t.processing},model:{value:t.orderNotes,callback:function(e){t.orderNotes=e},expression:"orderNotes"}})],1),t._v(" "),r("b-form-group",[r("b-form-checkbox",{attrs:{required:"",disabled:t.processing},model:{value:t.agreeToTerms,callback:function(e){t.agreeToTerms=e},expression:"agreeToTerms"}},[t._v("\n                I agree to the "),r("b-link",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showTerms.apply(null,arguments)}}},[t._v("Terms and Conditions")])],1)],1),t._v(" "),r("b-button",{attrs:{type:"submit",variant:"success",size:"lg",block:"",disabled:t.processing||!t.agreeToTerms}},[t.processing?[r("b-spinner",{attrs:{small:""}}),t._v(" Processing Order...\n              ")]:[r("b-icon",{attrs:{icon:"check-circle"}}),t._v(" Place Order (Rp "+t._s(t.formatCurrency(t.cartTotal))+")\n              ")]],2)],1)],1)],1),t._v(" "),r("b-col",{attrs:{lg:"4"}},[r("b-card",{staticClass:"sticky-top",staticStyle:{top:"20px"}},[r("b-card-title",[r("b-icon",{attrs:{icon:"receipt"}}),t._v(" Order Summary\n          ")],1),t._v(" "),r("b-list-group",{attrs:{flush:""}},[r("b-list-group-item",{staticClass:"d-flex justify-content-between"},[r("span",[t._v("Subtotal")]),t._v(" "),r("strong",[t._v("Rp "+t._s(t.formatCurrency(t.cartTotal)))])]),t._v(" "),r("b-list-group-item",{staticClass:"d-flex justify-content-between"},[r("span",[t._v("Shipping")]),t._v(" "),r("strong",[t._v("FREE")])]),t._v(" "),r("b-list-group-item",{staticClass:"d-flex justify-content-between"},[r("span",[t._v("Tax")]),t._v(" "),r("strong",[t._v("Included")])]),t._v(" "),r("b-list-group-item",{staticClass:"d-flex justify-content-between bg-light"},[r("h5",{staticClass:"mb-0"},[t._v("Total")]),t._v(" "),r("h5",{staticClass:"mb-0 text-primary"},[t._v("Rp "+t._s(t.formatCurrency(t.cartTotal)))])])],1),t._v(" "),t.error?r("b-alert",{staticClass:"mt-3",attrs:{variant:"danger",show:""}},[t._v("\n            "+t._s(t.error)+"\n          ")]):t._e(),t._v(" "),r("b-button",{staticClass:"mt-3",attrs:{variant:"outline-primary",block:"",to:{name:"Cart"},disabled:t.processing}},[r("b-icon",{attrs:{icon:"arrow-left"}}),t._v(" Back to Cart\n          ")],1)],1)],1)],1)],1),t._v(" "),r("b-modal",{attrs:{id:"terms-modal",title:"Terms and Conditions",size:"lg","ok-only":"","ok-title":"Close"}},[r("div",{staticClass:"terms-content"},[r("h5",[t._v("Photobook Studio Terms and Conditions")]),t._v(" "),r("p",[r("strong",[t._v("Last Updated:")]),t._v(" "+t._s((new Date).toLocaleDateString()))]),t._v(" "),r("h6",[t._v("1. General")]),t._v(" "),r("p",[t._v("By placing an order with Photobook Studio, you agree to these terms and conditions.")]),t._v(" "),r("h6",[t._v("2. Payment")]),t._v(" "),r("p",[t._v("All payments must be completed before order processing begins.")]),t._v(" "),r("h6",[t._v("3. Delivery")]),t._v(" "),r("p",[t._v("We aim to deliver your photobook within 7-14 business days after payment confirmation.")]),t._v(" "),r("h6",[t._v("4. Returns")]),t._v(" "),r("p",[t._v("Returns are accepted within 30 days for manufacturing defects only.")]),t._v(" "),r("h6",[t._v("5. Contact")]),t._v(" "),r("p",[t._v("For questions, contact us at support@photobookstudio.com")])])])],1)},[],!1,null,"40dd4a3e",null).exports},8083:(t,e,r)=>{r.d(e,{A:()=>a});var o=r(6314),n=r.n(o)()(function(t){return t[1]});n.push([t.id,".product-thumbnail[data-v-40dd4a3e]{max-height:80px;-o-object-fit:cover;object-fit:cover}.sticky-top[data-v-40dd4a3e]{z-index:1000}.terms-content[data-v-40dd4a3e]{max-height:400px;overflow-y:auto}.terms-content h5[data-v-40dd4a3e],.terms-content h6[data-v-40dd4a3e]{margin-bottom:.5rem;margin-top:1rem}.terms-content p[data-v-40dd4a3e]{margin-bottom:.5rem}",""]);const a=n}}]);