/*! For license information please see 739.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[739],{2192:(t,e,r)=>{r.d(e,{A:()=>o});var n=r(6314),a=r.n(n)()(function(t){return t[1]});a.push([t.id,".template-grid[data-v-7ada66d4]{display:grid;gap:10px;grid-template-columns:repeat(auto-fill,minmax(120px,1fr))}.template-card[data-v-7ada66d4]{border:2px solid #e9ecef;cursor:pointer;height:100%;transition:all .2s ease-in-out}.template-card[data-v-7ada66d4]:hover{border-color:#007bff;box-shadow:0 2px 8px rgba(0,0,0,.1)}.template-card.selected[data-v-7ada66d4]{border-color:#007bff;box-shadow:0 0 0 3px rgba(0,123,255,.25)}.template-image[data-v-7ada66d4]{height:100px;-o-object-fit:cover;object-fit:cover;width:100%}.template-card .card-body[data-v-7ada66d4]{padding:.5rem}",""]);const o=a},5011:(t,e,r)=>{r.d(e,{A:()=>o});var n=r(6314),a=r.n(n)()(function(t){return t[1]});a.push([t.id,".carousel-control-next-icon[data-v-5a61392f],.carousel-control-prev-icon[data-v-5a61392f]{background-color:rgba(0,0,0,.5);border-radius:50%}",""]);const o=a},6739:(t,e,r)=>{r.r(e),r.d(e,{default:()=>C});var n=r(7728),a=r(5497),o=r(7304),i=r(5353);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}const s={name:"TemplateSelector",props:{templates:{type:Array,default:function(){return[]}},value:{type:[Object,Number,String],default:null},label:{type:String,default:"Select a Template"},description:{type:String,default:""},loading:{type:Boolean,default:!1},error:{type:String,default:null},required:{type:Boolean,default:!1}},data:function(){return{internalSelectedTemplate:null}},computed:{selectedTemplate:function(){var t=this;if(this.value){if("object"===c(this.value)&&this.value.id)return this.value;if("number"==typeof this.value||"string"==typeof this.value)return this.templates.find(function(e){return e.id==t.value})||null}return this.internalSelectedTemplate}},methods:{selectTemplate:function(t){this.internalSelectedTemplate=t,this.$emit("input",t.id),this.$emit("selected",t)},isSelected:function(t){return this.selectedTemplate&&this.selectedTemplate.id===t.id},getTemplateImage:function(t){return t.sample_image?t.sample_image.startsWith("http")?t.sample_image:"/storage/"+t.sample_image:"https://www.aaronfaber.com/wp-content/uploads/2017/03/product-placeholder-wp.jpg"},onImageError:function(t){t.target.src="https://www.aaronfaber.com/wp-content/uploads/2017/03/product-placeholder-wp.jpg"}},watch:{templates:{handler:function(t){var e=this;this.selectedTemplate&&!t.some(function(t){return t.id===e.selectedTemplate.id})&&this.selectTemplate(null)},immediate:!0}}};var u=r(5072),l=r.n(u),d=r(2192),p={insert:"head",singleton:!1};l()(d.A,p);d.A.locals;var f=r(4486);function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function v(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var s=n&&n.prototype instanceof c?n:c,u=Object.create(s.prototype);return b(u,"_invoke",function(r,n,a){var o,c,s,u=0,l=a||[],d=!1,p={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,r){return o=e,c=0,s=t,p.n=r,i}};function f(r,n){for(c=r,s=n,e=0;!d&&u&&!a&&e<l.length;e++){var a,o=l[e],f=p.p,m=o[2];r>3?(a=m===n)&&(s=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=t):o[0]<=f&&((a=r<2&&f<o[1])?(c=0,p.v=n,p.n=o[1]):f<m&&(a=r<3||o[0]>n||n>m)&&(o[4]=r,o[5]=n,p.n=m,c=0))}if(a||r>1)return i;throw d=!0,n}return function(a,l,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===l&&f(l,m),c=l,s=m;(e=c<2?t:s)||!d;){o||(c?c<3?(c>1&&(p.n=-1),f(c,s)):p.n=s:p.v=s);try{if(u=2,o){if(c||(a="next"),e=o[a]){if(!(e=e.call(o,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,c<2&&(c=0)}else 1===c&&(e=o.return)&&e.call(o),c<2&&(s=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=t}else if((e=(d=p.n<0)?s:r.call(n,p))!==i)break}catch(e){o=t,c=1,s=e}finally{u=1}}return{value:e,done:d}}}(r,a,o),!0),u}var i={};function c(){}function s(){}function u(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(b(e={},n,function(){return this}),e),d=u.prototype=c.prototype=Object.create(l);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,b(t,a,"GeneratorFunction")),t.prototype=Object.create(d),t}return s.prototype=u,b(d,"constructor",u),b(u,"constructor",s),s.displayName="GeneratorFunction",b(u,a,"GeneratorFunction"),b(d),b(d,a,"Generator"),b(d,n,function(){return this}),b(d,"toString",function(){return"[object Generator]"}),(v=function(){return{w:o,m:p}})()}function b(t,e,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}b=function(t,e,r,n){if(e)a?a(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r;else{var o=function(e,r){b(t,e,function(t){return this._invoke(e,r,t)})};o("next",0),o("throw",1),o("return",2)}},b(t,e,r,n)}function h(t,e,r,n,a,o,i){try{var c=t[o](i),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,a)}function y(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function i(t){h(o,n,a,i,c,"next",t)}function c(t){h(o,n,a,i,c,"throw",t)}i(void 0)})}}function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function w(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(Object(r),!0).forEach(function(e){_(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function _(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=m(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==m(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const S={name:"ProductDetail",components:{TemplateSelector:(0,f.A)(s,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"template-selector"},[r("b-form-group",{attrs:{label:t.label,description:t.description}},[t.error?r("b-alert",{attrs:{variant:"danger",show:""}},[t._v("\n      "+t._s(t.error)+"\n    ")]):t.loading?r("div",{staticClass:"text-center py-3"},[r("b-spinner",{attrs:{small:""}}),t._v(" Loading templates...\n    ")],1):t.templates&&0!==t.templates.length?r("div",{staticClass:"template-grid"},t._l(t.templates,function(e){return r("b-card",{key:e.id,staticClass:"mb-2",class:["template-card",{selected:t.isSelected(e)}],attrs:{"no-body":""},on:{click:function(r){return t.selectTemplate(e)}}},[r("b-card-img",{staticClass:"template-image",attrs:{src:t.getTemplateImage(e),alt:e.name},on:{error:t.onImageError}}),t._v(" "),r("b-card-body",{staticClass:"p-2"},[r("b-card-title",{staticClass:"h6 mb-0 text-center"},[t._v(t._s(e.name))])],1)],1)}),1):r("b-alert",{attrs:{variant:"warning",show:""}},[t._v("\n      No templates available.\n    ")]),t._v(" "),t.required?r("input",{attrs:{type:"hidden",required:t.required},domProps:{value:t.selectedTemplate?t.selectedTemplate.id:""}}):t._e()],1)],1)},[],!1,null,"7ada66d4",null).exports},data:function(){return{product:null,loading:!1,error:null,addingToCart:!1,showSuccessMessage:!1,cartForm:{quantity:1,design_same:!0},selectedTemplateId:null}},computed:w(w({},(0,i.L8)("cart",["cartItems"])),{},{isTemplateSelected:function(){return!this.product||!this.product.templates||0===this.product.templates.length||null!==this.selectedTemplateId}}),created:function(){var t=this;return y(v().m(function e(){return v().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t.loadProduct();case 1:return e.a(2)}},e)}))()},methods:w(w({},(0,i.i0)("cart",["loadCart","addItem"])),{},{loadProduct:function(){var t=this;return y(v().m(function e(){var r,a,o;return v().w(function(e){for(;;)switch(e.p=e.n){case 0:return t.loading=!0,t.error=null,e.p=1,r=t.$route.params.id,e.n=2,n.A.getProduct(r);case 2:a=e.v,t.product=a.data,t.product.templates&&t.product.templates.length>0&&null===t.selectedTemplateId&&(t.selectedTemplateId=t.product.templates[0].id),e.n=4;break;case 3:e.p=3,o=e.v,console.error("Failed to load product:",o),t.error=o.message||"Failed to load product details";case 4:return e.p=4,t.loading=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}))()},addToCart:function(){var t=this;return y(v().m(function e(){var r,n,o,i,c;return v().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t.$store.getters["auth/isAuthenticated"]){e.n=1;break}return t.$router.push({name:"Login"}),e.a(2);case 1:if(t.isTemplateSelected){e.n=2;break}return t.$store.dispatch("showNotification",{title:"Error",message:"Please select a template.",type:"warning"}),e.a(2);case 2:if(t.addingToCart=!0,t.showSuccessMessage=!1,e.p=3,r={product_id:t.product.id,template_id:t.selectedTemplateId,quantity:t.cartForm.quantity,design_same:t.cartForm.design_same},!(n=t.findExistingCartItem(r))){e.n=5;break}return o=n.quantity+r.quantity,e.n=4,t.updateExistingItem(n.id,o);case 4:e.n=7;break;case 5:return e.n=6,a.A.addToCart(r);case 6:return i=e.v,e.n=7,t.addItem(i.cart_item);case 7:return t.showSuccessMessage=!0,setTimeout(function(){t.showSuccessMessage=!1},5e3),e.n=8,t.$store.dispatch("cart/loadCart");case 8:t.$store.dispatch("showNotification",{title:"Success",message:"Product added to cart!",type:"success"}),e.n=10;break;case 9:e.p=9,c=e.v,console.error("Failed to add to cart:",c),t.$store.dispatch("showNotification",{title:"Error",message:c.message||"Failed to add product to cart",type:"danger"});case 10:return e.p=10,t.addingToCart=!1,e.f(10);case 11:return e.a(2)}},e,null,[[3,9,10,11]])}))()},findExistingCartItem:function(t){return this.cartItems.find(function(e){return e.product_id===t.product_id&&e.template_id===t.template_id&&e.design_same===t.design_same})},updateExistingItem:function(t,e){var r=this;return y(v().m(function n(){var a,i;return v().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,o.A.put("/cart/".concat(t),{quantity:e});case 1:return a=n.v,n.n=2,r.$store.dispatch("cart/loadCart");case 2:return n.a(2,a.data);case 3:throw n.p=3,i=n.v,console.error("Failed to update cart item:",i),i;case 4:return n.a(2)}},n,null,[[0,3]])}))()},formatCurrency:function(t){return new Intl.NumberFormat("id-ID").format(t)},getProductImage:function(t){return t.thumbnail?t.thumbnail.startsWith("http")?t.thumbnail:"/storage/"+t.thumbnail:"https://www.aaronfaber.com/wp-content/uploads/2017/03/product-placeholder-wp.jpg"},onMainImageError:function(t){t.target.src="https://www.aaronfaber.com/wp-content/uploads/2017/03/product-placeholder-wp.jpg"}})};var P=r(5011),T={insert:"head",singleton:!1};l()(P.A,T);P.A.locals;const C=(0,f.A)(S,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("app-layout",[r("b-container",[t.loading?r("b-row",[r("b-col",{staticClass:"text-center py-5",attrs:{cols:"12"}},[r("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{variant:"primary"}}),t._v(" "),r("p",{staticClass:"mt-3"},[t._v("Loading product details...")])],1)],1):t.error?r("b-row",[r("b-col",{attrs:{cols:"12"}},[r("b-alert",{attrs:{variant:"danger",show:""}},[r("h4",[r("b-icon",{attrs:{icon:"exclamation-triangle"}}),t._v(" Error")],1),t._v(" "),r("p",[t._v(t._s(t.error))]),t._v(" "),r("b-button",{attrs:{variant:"primary",to:{name:"Products"}}},[r("b-icon",{attrs:{icon:"arrow-left"}}),t._v(" Back to Products\n          ")],1)],1)],1)],1):t.product?r("b-row",[r("b-col",{staticClass:"mb-4",attrs:{lg:"6"}},[r("b-card",[r("b-carousel",{attrs:{id:"product-carousel",interval:0,controls:"",indicators:"",background:"#f8f9fa"}},[t.product.thumbnail?r("b-carousel-slide",{scopedSlots:t._u([{key:"img",fn:function(){return[r("b-img",{staticClass:"d-block mx-auto",staticStyle:{"max-height":"400px","object-fit":"contain"},attrs:{src:t.getProductImage(t.product),fluid:"",alt:"Product Image"},on:{error:t.onMainImageError}})]},proxy:!0}],null,!1,850099029)}):t._e()],1)],1)],1),t._v(" "),r("b-col",{attrs:{lg:"6"}},[r("b-card",{staticClass:"h-100"},[r("b-card-title",{staticClass:"mb-3"},[t._v(t._s(t.product.name))]),t._v(" "),r("b-card-text",{staticClass:"text-muted mb-4"},[t._v(" "+t._s(t.product.description)+" ")]),t._v(" "),r("b-row",{staticClass:"mb-4"},[r("b-col",{attrs:{md:"6"}},[r("h4",{staticClass:"text-primary"},[t._v("Rp "+t._s(t.formatCurrency(t.product.price)))])]),t._v(" "),r("b-col",{staticClass:"text-md-right",attrs:{md:"6"}},[t.product.is_active?r("b-badge",{attrs:{variant:"success"}},[t._v("In Stock")]):r("b-badge",{attrs:{variant:"danger"}},[t._v("Out of Stock")])],1)],1),t._v(" "),t.product.templates&&t.product.templates.length>0?r("b-row",{staticClass:"mb-4"},[r("b-col",{attrs:{cols:"12"}},[r("template-selector",{attrs:{templates:t.product.templates,label:"Choose Your Template *",description:"Select a template for your photobook design.",required:!0},model:{value:t.selectedTemplateId,callback:function(e){t.selectedTemplateId=e},expression:"selectedTemplateId"}})],1)],1):t.product.templates&&0===t.product.templates.length?r("b-alert",{attrs:{variant:"warning",show:""}},[t._v("\n            No templates available for this product.\n          ")]):t._e(),t._v(" "),r("b-form",{on:{submit:function(e){return e.preventDefault(),t.addToCart.apply(null,arguments)}}},[r("b-row",{staticClass:"mb-3"},[r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"Quantity"}},[r("b-form-input",{attrs:{type:"number",min:"1",max:"10",required:""},model:{value:t.cartForm.quantity,callback:function(e){t.$set(t.cartForm,"quantity",t._n(e))},expression:"cartForm.quantity"}})],1)],1),t._v(" "),r("b-col",{attrs:{md:"6"}},[r("b-form-group",{attrs:{label:"Design Options"}},[r("b-form-checkbox",{attrs:{switch:""},model:{value:t.cartForm.design_same,callback:function(e){t.$set(t.cartForm,"design_same",e)},expression:"cartForm.design_same"}},[t._v(" Same design for all copies ")])],1)],1)],1),t._v(" "),r("b-button",{attrs:{type:"submit",variant:"primary",size:"lg",block:"",disabled:!t.product.is_active||t.addingToCart||!t.isTemplateSelected}},[t.addingToCart?r("b-spinner",{attrs:{small:""}}):r("b-icon",{attrs:{icon:"cart-plus"}}),t._v("\n              "+t._s(t.addingToCart?"Adding to Cart...":"Add to Cart")+"\n            ")],1),t._v(" "),t.showSuccessMessage?r("b-alert",{staticClass:"mt-3",attrs:{variant:"success",dismissible:""},on:{dismissed:function(e){t.showSuccessMessage=!1}}},[r("b-icon",{attrs:{icon:"check-circle"}}),t._v("\n              Product added to cart successfully!\n              "),r("b-link",{staticClass:"alert-link ml-2",attrs:{to:{name:"Cart"}}},[t._v(" View Cart ")])],1):t._e()],1),t._v(" "),r("div",{staticClass:"mt-3"},[r("b-button",{staticClass:"mr-2",attrs:{variant:"outline-secondary",to:{name:"Products"}}},[r("b-icon",{attrs:{icon:"arrow-left"}}),t._v(" Back to Products\n            ")],1),t._v(" "),t.$store.getters["auth/isAuthenticated"]?t._e():r("b-button",{attrs:{variant:"warning",to:{name:"Login"}}},[r("b-icon",{attrs:{icon:"box-arrow-in-right"}}),t._v(" Login to Order\n            ")],1)],1)],1)],1)],1):t._e()],1)],1)},[],!1,null,"5a61392f",null).exports},7728:(t,e,r)=>{r.d(e,{A:()=>d});var n=r(7304);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function o(){var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function c(r,n,a,o){var c=n&&n.prototype instanceof u?n:u,l=Object.create(c.prototype);return i(l,"_invoke",function(r,n,a){var o,i,c,u=0,l=a||[],d=!1,p={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,r){return o=e,i=0,c=t,p.n=r,s}};function f(r,n){for(i=r,c=n,e=0;!d&&u&&!a&&e<l.length;e++){var a,o=l[e],f=p.p,m=o[2];r>3?(a=m===n)&&(c=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=f&&((a=r<2&&f<o[1])?(i=0,p.v=n,p.n=o[1]):f<m&&(a=r<3||o[0]>n||n>m)&&(o[4]=r,o[5]=n,p.n=m,i=0))}if(a||r>1)return s;throw d=!0,n}return function(a,l,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===l&&f(l,m),i=l,c=m;(e=i<2?t:c)||!d;){o||(i?i<3?(i>1&&(p.n=-1),f(i,c)):p.n=c:p.v=c);try{if(u=2,o){if(i||(a="next"),e=o[a]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((e=(d=p.n<0)?c:r.call(n,p))!==s)break}catch(e){o=t,i=1,c=e}finally{u=1}}return{value:e,done:d}}}(r,a,o),!0),l}var s={};function u(){}function l(){}function d(){}e=Object.getPrototypeOf;var p=[][n]?e(e([][n]())):(i(e={},n,function(){return this}),e),f=d.prototype=u.prototype=Object.create(p);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,i(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return l.prototype=d,i(f,"constructor",d),i(d,"constructor",l),l.displayName="GeneratorFunction",i(d,a,"GeneratorFunction"),i(f),i(f,a,"Generator"),i(f,n,function(){return this}),i(f,"toString",function(){return"[object Generator]"}),(o=function(){return{w:c,m}})()}function i(t,e,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}i=function(t,e,r,n){if(e)a?a(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r;else{var o=function(e,r){i(t,e,function(t){return this._invoke(e,r,t)})};o("next",0),o("throw",1),o("return",2)}},i(t,e,r,n)}function c(t,e,r,n,a,o,i){try{var c=t[o](i),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,a)}function s(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var o=t.apply(e,r);function i(t){c(o,n,a,i,s,"next",t)}function s(t){c(o,n,a,i,s,"throw",t)}i(void 0)})}}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function l(t){var e=function(t,e){if("object"!=a(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==a(e)?e:e+""}const d=new(function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"getProducts",value:(m=s(o().m(function t(){var e,r,a,i,c=arguments;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:{},t.p=1,t.n=2,n.A.get("/products",{params:e});case 2:return r=t.v,t.a(2,r.data);case 3:throw t.p=3,i=t.v,(null===(a=i.response)||void 0===a?void 0:a.data)||{error:"Failed to fetch products"};case 4:return t.a(2)}},t,null,[[1,3]])})),function(){return m.apply(this,arguments)})},{key:"getProduct",value:(f=s(o().m(function t(e){var r,a,i;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,n.A.get("/products/".concat(e));case 1:return r=t.v,t.a(2,r.data);case 2:throw t.p=2,i=t.v,(null===(a=i.response)||void 0===a?void 0:a.data)||{error:"Failed to fetch product"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return f.apply(this,arguments)})},{key:"getProductTemplates",value:(p=s(o().m(function t(e){var r,a,i;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,n.A.get("/products/".concat(e,"/templates"));case 1:return r=t.v,t.a(2,r.data);case 2:throw t.p=2,i=t.v,(null===(a=i.response)||void 0===a?void 0:a.data)||{error:"Failed to fetch templates"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return p.apply(this,arguments)})},{key:"getAdminProducts",value:(d=s(o().m(function t(){var e,r,a,i,c=arguments;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:{},t.p=1,t.n=2,n.A.get("/admin/products",{params:e});case 2:return r=t.v,t.a(2,r.data);case 3:throw t.p=3,i=t.v,console.error("ProductService.getAdminProducts failed:",i),(null===(a=i.response)||void 0===a?void 0:a.data)||{error:"Failed to fetch admin products"};case 4:return t.a(2)}},t,null,[[1,3]])})),function(){return d.apply(this,arguments)})},{key:"getAdminProduct",value:(l=s(o().m(function t(e){var r,a,i;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,n.A.get("/admin/products/".concat(e));case 1:return r=t.v,t.a(2,r.data);case 2:throw t.p=2,i=t.v,console.error("ProductService.getAdminProduct(".concat(e,") failed:"),i),(null===(a=i.response)||void 0===a?void 0:a.data)||{error:"Failed to fetch admin product details"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return l.apply(this,arguments)})},{key:"createAdminProduct",value:(c=s(o().m(function t(e){var r,a,i;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,n.A.post("/admin/products",e);case 1:return r=t.v,t.a(2,r.data);case 2:throw t.p=2,i=t.v,console.error("ProductService.createAdminProduct failed:",i),(null===(a=i.response)||void 0===a?void 0:a.data)||{error:"Failed to create product"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return c.apply(this,arguments)})},{key:"updateAdminProduct",value:(i=s(o().m(function t(e,r){var a,i,c;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,n.A.post("/admin/products/".concat(e),r);case 1:return a=t.v,t.a(2,a.data);case 2:throw t.p=2,c=t.v,console.error("ProductService.updateAdminProduct(".concat(e,") failed:"),c),(null===(i=c.response)||void 0===i?void 0:i.data)||{error:"Failed to update product"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t,e){return i.apply(this,arguments)})},{key:"deleteAdminProduct",value:(a=s(o().m(function t(e){var r,a,i;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,n.A.delete("/admin/products/".concat(e));case 1:return r=t.v,t.a(2,r.data);case 2:throw t.p=2,i=t.v,console.error("ProductService.deleteAdminProduct(".concat(e,") failed:"),i),(null===(a=i.response)||void 0===a?void 0:a.data)||{error:"Failed to delete product"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return a.apply(this,arguments)})}],e&&u(t.prototype,e),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,a,i,c,l,d,p,f,m}())}}]);