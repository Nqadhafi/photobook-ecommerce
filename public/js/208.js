/*! For license information please see 208.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[208],{2208:(t,e,r)=>{r.r(e),r.d(e,{default:()=>m});var a=r(5933),n=r(7728);function o(){var t,e,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",n=r.toStringTag||"@@toStringTag";function u(r,a,n,o){var u=a&&a.prototype instanceof c?a:c,s=Object.create(u.prototype);return i(s,"_invoke",function(r,a,n){var o,i,u,c=0,s=n||[],p=!1,d={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,r){return o=e,i=0,u=t,d.n=r,l}};function f(r,a){for(i=r,u=a,e=0;!p&&c&&!n&&e<s.length;e++){var n,o=s[e],f=d.p,m=o[2];r>3?(n=m===a)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=f&&((n=r<2&&f<o[1])?(i=0,d.v=a,d.n=o[1]):f<m&&(n=r<3||o[0]>a||a>m)&&(o[4]=r,o[5]=a,d.n=m,i=0))}if(n||r>1)return l;throw p=!0,a}return function(n,s,m){if(c>1)throw TypeError("Generator is already running");for(p&&1===s&&f(s,m),i=s,u=m;(e=i<2?t:u)||!p;){o||(i?i<3?(i>1&&(d.n=-1),f(i,u)):d.n=u:d.v=u);try{if(c=2,o){if(i||(n="next"),e=o[n]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+n+"' method"),i=1);o=t}else if((e=(p=d.n<0)?u:r.call(a,d))!==l)break}catch(e){o=t,i=1,u=e}finally{c=1}}return{value:e,done:p}}}(r,n,o),!0),s}var l={};function c(){}function s(){}function p(){}e=Object.getPrototypeOf;var d=[][a]?e(e([][a]())):(i(e={},a,function(){return this}),e),f=p.prototype=c.prototype=Object.create(d);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,i(t,n,"GeneratorFunction")),t.prototype=Object.create(f),t}return s.prototype=p,i(f,"constructor",p),i(p,"constructor",s),s.displayName="GeneratorFunction",i(p,n,"GeneratorFunction"),i(f),i(f,n,"Generator"),i(f,a,function(){return this}),i(f,"toString",function(){return"[object Generator]"}),(o=function(){return{w:u,m}})()}function i(t,e,r,a){var n=Object.defineProperty;try{n({},"",{})}catch(t){n=0}i=function(t,e,r,a){if(e)n?n(t,e,{value:r,enumerable:!a,configurable:!a,writable:!a}):t[e]=r;else{var o=function(e,r){i(t,e,function(t){return this._invoke(e,r,t)})};o("next",0),o("throw",1),o("return",2)}},i(t,e,r,a)}function u(t,e,r,a,n,o,i){try{var u=t[o](i),l=u.value}catch(t){return void r(t)}u.done?e(l):Promise.resolve(l).then(a,n)}function l(t){return function(){var e=this,r=arguments;return new Promise(function(a,n){var o=t.apply(e,r);function i(t){u(o,a,n,i,l,"next",t)}function l(t){u(o,a,n,i,l,"throw",t)}i(void 0)})}}const c={name:"AdminTemplateEdit",props:{id:{type:[String,Number],required:!0}},data:function(){return{loading:!1,isSubmitting:!1,isProductsLoading:!1,template:null,errorMessage:"",productOptions:[],form:{name:"",product_id:null,sample_image:null,layout_data:{layout_type:"",dimensions:"",pages:null,photo_slots:null},is_active:!0},errors:{}}},computed:{previewNewSampleImageUrl:function(){return this.form.sample_image?URL.createObjectURL(this.form.sample_image):null}},created:function(){var t=this;return l(o().m(function e(){return o().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t.fetchTemplate();case 1:return e.n=2,t.fetchProducts();case 2:return e.a(2)}},e)}))()},methods:{fetchTemplate:function(){var t=this;return l(o().m(function e(){var r,n,i,u,l,c,s,p;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:return t.loading=!0,t.errorMessage="",e.p=1,e.n=2,a.A.getAdminTemplate(t.id);case 2:s=e.v,t.template=s,t.form.name=s.name||"",t.form.product_id=s.product_id||null,t.form.layout_data={layout_type:(null===(r=s.layout_data)||void 0===r?void 0:r.layout_type)||"",dimensions:(null===(n=s.layout_data)||void 0===n?void 0:n.dimensions)||"",pages:null!==(i=null===(u=s.layout_data)||void 0===u?void 0:u.pages)&&void 0!==i?i:null,photo_slots:null!==(l=null===(c=s.layout_data)||void 0===c?void 0:c.photo_slots)&&void 0!==l?l:null},t.form.is_active=void 0===s.is_active||Boolean(s.is_active),e.n=4;break;case 3:e.p=3,p=e.v,console.error("Failed to fetch template details:",p),t.errorMessage=p.error||"Failed to load template details.";case 4:return e.p=4,t.loading=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}))()},fetchProducts:function(){var t=this;return l(o().m(function e(){var r,a;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:return t.isProductsLoading=!0,e.p=1,e.n=2,n.A.getAdminProducts({per_page:100});case 2:r=e.v,t.productOptions=r.data,e.n=4;break;case 3:e.p=3,a=e.v,console.error("Failed to fetch products:",a),t.$bvToast.toast("Failed to load product options.",{title:"Error",variant:"danger",solid:!0}),t.productOptions=[];case 4:return e.p=4,t.isProductsLoading=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}))()},getCurrentSampleImageUrl:function(){var t;return null!==(t=this.template)&&void 0!==t&&t.sample_image?"/storage/".concat(this.template.sample_image):null},getValidationState:function(t){return this.errors.hasOwnProperty(t)?!this.errors[t]:null},getError:function(t){var e=this.errors[t];return Array.isArray(e)&&e.length>0?e[0]:"string"==typeof e?e:""},getNestedError:function(t){return this.getError(t)},submitForm:function(){var t=this;return l(o().m(function e(){var r,n,i;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:return t.isSubmitting=!0,t.errors={},e.p=1,(r=new FormData).append("name",t.form.name),r.append("product_id",t.form.product_id),r.append("is_active",t.form.is_active?"1":"0"),r.append("_method","PUT"),t.form.sample_image&&r.append("sample_image",t.form.sample_image),r.append("layout_data[layout_type]",t.form.layout_data.layout_type),r.append("layout_data[dimensions]",t.form.layout_data.dimensions),r.append("layout_data[pages]",t.form.layout_data.pages),r.append("layout_data[photo_slots]",t.form.layout_data.photo_slots),e.n=2,a.A.updateAdminTemplate(t.id,r);case 2:e.v,t.$bvToast.toast("Template updated successfully!",{title:"Success",variant:"success",solid:!0}),t.$router.push({name:"AdminTemplates"}),e.n=4;break;case 3:e.p=3,i=e.v,console.error("Failed to update template:",i),i.errors?t.errors=i.errors:(n=i.error||"Failed to update template.",t.$bvToast.toast(n,{title:"Error",variant:"danger",solid:!0}));case 4:return e.p=4,t.isSubmitting=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}))()}}};var s=r(5072),p=r.n(s),d=r(7065),f={insert:"head",singleton:!1};p()(d.A,f);d.A.locals;const m=(0,r(4486).A)(c,function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.template?r("div",[r("b-row",{staticClass:"mb-3"},[r("b-col",[r("h2",[t._v("Edit Template: "+t._s(t.template.name))])])],1),t._v(" "),r("b-card",[r("b-form",{on:{submit:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[r("b-form-group",{attrs:{label:"Name:","label-for":"template-name"}},[r("b-form-input",{attrs:{id:"template-name",required:"",placeholder:"Enter template name",state:t.getValidationState("name")},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),r("b-form-invalid-feedback",{attrs:{state:t.getValidationState("name")}},[t._v("\n          "+t._s(t.getError("name"))+"\n        ")])],1),t._v(" "),r("b-form-group",{attrs:{label:"Product:","label-for":"template-product"}},[r("b-form-select",{attrs:{id:"template-product",options:t.productOptions,"value-field":"id","text-field":"name",required:"",disabled:!0,state:t.getValidationState("product_id")},scopedSlots:t._u([{key:"first",fn:function(){return[r("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v("\n              "+t._s(t.isProductsLoading?"Loading products...":"-- Please select a product --")+"\n            ")])]},proxy:!0}],null,!1,3026151176),model:{value:t.form.product_id,callback:function(e){t.$set(t.form,"product_id",e)},expression:"form.product_id"}}),t._v(" "),r("b-form-text",{attrs:{variant:"secondary"}},[r("small",[t._v("Product cannot be changed after creation.")])]),t._v(" "),r("b-form-invalid-feedback",{attrs:{state:t.getValidationState("product_id")}},[t._v("\n          "+t._s(t.getError("product_id"))+"\n        ")])],1),t._v(" "),r("b-form-group",{attrs:{label:"Sample Image:","label-for":"template-sample-image"}},[r("b-form-file",{attrs:{id:"template-sample-image",accept:"image/*",placeholder:"Choose a new file...",state:t.getValidationState("sample_image")},model:{value:t.form.sample_image,callback:function(e){t.$set(t.form,"sample_image",e)},expression:"form.sample_image"}}),t._v(" "),r("b-form-invalid-feedback",{attrs:{state:t.getValidationState("sample_image")}},[t._v("\n          "+t._s(t.getError("sample_image"))+"\n        ")]),t._v(" "),r("b-form-text",{attrs:{variant:"secondary"}},[r("small",[t._v("Allowed types: jpeg, png, jpg. Max size: 2MB. Leave blank to keep current image.")])]),t._v(" "),t.template.sample_image?r("div",{staticClass:"mt-2"},[r("p",[r("strong",[t._v("Current Sample Image:")])]),t._v(" "),r("b-img",{staticStyle:{"max-height":"150px"},attrs:{src:t.getCurrentSampleImageUrl(),thumbnail:"",fluid:"",alt:t.template.name+" sample image"}})],1):t._e(),t._v(" "),t.form.sample_image?r("div",{staticClass:"mt-2"},[r("p",[r("strong",[t._v("New Sample Image Preview:")])]),t._v(" "),r("b-img",{staticStyle:{"max-height":"150px"},attrs:{src:t.previewNewSampleImageUrl,thumbnail:"",fluid:"",alt:"New sample image preview"}})],1):t._e()],1),t._v(" "),r("hr"),t._v(" "),r("h5",[t._v("Layout Data")]),t._v(" "),r("b-form-group",{attrs:{label:"Layout Type:","label-for":"layout-type"}},[r("b-form-input",{attrs:{id:"layout-type",required:"",placeholder:"e.g., Classic, Modern",state:t.getValidationState("layout_data.layout_type")},model:{value:t.form.layout_data.layout_type,callback:function(e){t.$set(t.form.layout_data,"layout_type",e)},expression:"form.layout_data.layout_type"}}),t._v(" "),r("b-form-invalid-feedback",{attrs:{state:t.getValidationState("layout_data.layout_type")}},[t._v("\n          "+t._s(t.getNestedError("layout_data.layout_type"))+"\n        ")])],1),t._v(" "),r("b-form-group",{attrs:{label:"Dimensions:","label-for":"layout-dimensions"}},[r("b-form-input",{attrs:{id:"layout-dimensions",required:"",placeholder:"e.g., 20x20 cm",state:t.getValidationState("layout_data.dimensions")},model:{value:t.form.layout_data.dimensions,callback:function(e){t.$set(t.form.layout_data,"dimensions",e)},expression:"form.layout_data.dimensions"}}),t._v(" "),r("b-form-invalid-feedback",{attrs:{state:t.getValidationState("layout_data.dimensions")}},[t._v("\n          "+t._s(t.getNestedError("layout_data.dimensions"))+"\n        ")])],1),t._v(" "),r("b-form-group",{attrs:{label:"Number of Pages:","label-for":"layout-pages"}},[r("b-form-input",{attrs:{id:"layout-pages",type:"number",min:"1",required:"",placeholder:"e.g., 20",state:t.getValidationState("layout_data.pages")},model:{value:t.form.layout_data.pages,callback:function(e){t.$set(t.form.layout_data,"pages",t._n(e))},expression:"form.layout_data.pages"}}),t._v(" "),r("b-form-invalid-feedback",{attrs:{state:t.getValidationState("layout_data.pages")}},[t._v("\n          "+t._s(t.getNestedError("layout_data.pages"))+"\n        ")])],1),t._v(" "),r("b-form-group",{attrs:{label:"Photo Slots:","label-for":"layout-photo-slots"}},[r("b-form-input",{attrs:{id:"layout-photo-slots",type:"number",min:"0",required:"",placeholder:"e.g., 30",state:t.getValidationState("layout_data.photo_slots")},model:{value:t.form.layout_data.photo_slots,callback:function(e){t.$set(t.form.layout_data,"photo_slots",t._n(e))},expression:"form.layout_data.photo_slots"}}),t._v(" "),r("b-form-invalid-feedback",{attrs:{state:t.getValidationState("layout_data.photo_slots")}},[t._v("\n          "+t._s(t.getNestedError("layout_data.photo_slots"))+"\n        ")])],1),t._v(" "),r("b-form-group",[r("b-form-checkbox",{attrs:{switch:""},model:{value:t.form.is_active,callback:function(e){t.$set(t.form,"is_active",e)},expression:"form.is_active"}},[t._v("\n          Active\n        ")])],1),t._v(" "),r("b-button",{attrs:{type:"submit",variant:"primary",disabled:t.isSubmitting}},[t.isSubmitting?r("b-spinner",{attrs:{small:""}}):t._e(),t._v("\n        "+t._s(t.isSubmitting?"Updating...":"Update Template")+"\n      ")],1),t._v(" "),r("b-button",{staticClass:"ml-2",attrs:{variant:"secondary",to:{name:"AdminTemplates"}}},[t._v("\n        Cancel\n      ")])],1)],1)],1):t.loading?r("div",[r("b-spinner",{attrs:{variant:"primary",label:"Loading..."}}),t._v(" Loading template details...\n")],1):r("div",[r("b-alert",{attrs:{variant:"danger",show:""}},[r("h4",[t._v("Error loading template")]),t._v(" "),t.errorMessage?r("p",[t._v(t._s(t.errorMessage))]):r("p",[t._v("Template not found or an error occurred.")]),t._v(" "),r("b-button",{attrs:{variant:"secondary",to:{name:"AdminTemplates"}}},[t._v("Back to List")])],1)],1)},[],!1,null,"8b7ce11c",null).exports},5933:(t,e,r)=>{r.d(e,{A:()=>p});var a=r(7304);function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(){var t,e,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",n=r.toStringTag||"@@toStringTag";function u(r,a,n,o){var u=a&&a.prototype instanceof c?a:c,s=Object.create(u.prototype);return i(s,"_invoke",function(r,a,n){var o,i,u,c=0,s=n||[],p=!1,d={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,r){return o=e,i=0,u=t,d.n=r,l}};function f(r,a){for(i=r,u=a,e=0;!p&&c&&!n&&e<s.length;e++){var n,o=s[e],f=d.p,m=o[2];r>3?(n=m===a)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=f&&((n=r<2&&f<o[1])?(i=0,d.v=a,d.n=o[1]):f<m&&(n=r<3||o[0]>a||a>m)&&(o[4]=r,o[5]=a,d.n=m,i=0))}if(n||r>1)return l;throw p=!0,a}return function(n,s,m){if(c>1)throw TypeError("Generator is already running");for(p&&1===s&&f(s,m),i=s,u=m;(e=i<2?t:u)||!p;){o||(i?i<3?(i>1&&(d.n=-1),f(i,u)):d.n=u:d.v=u);try{if(c=2,o){if(i||(n="next"),e=o[n]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+n+"' method"),i=1);o=t}else if((e=(p=d.n<0)?u:r.call(a,d))!==l)break}catch(e){o=t,i=1,u=e}finally{c=1}}return{value:e,done:p}}}(r,n,o),!0),s}var l={};function c(){}function s(){}function p(){}e=Object.getPrototypeOf;var d=[][a]?e(e([][a]())):(i(e={},a,function(){return this}),e),f=p.prototype=c.prototype=Object.create(d);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,i(t,n,"GeneratorFunction")),t.prototype=Object.create(f),t}return s.prototype=p,i(f,"constructor",p),i(p,"constructor",s),s.displayName="GeneratorFunction",i(p,n,"GeneratorFunction"),i(f),i(f,n,"Generator"),i(f,a,function(){return this}),i(f,"toString",function(){return"[object Generator]"}),(o=function(){return{w:u,m}})()}function i(t,e,r,a){var n=Object.defineProperty;try{n({},"",{})}catch(t){n=0}i=function(t,e,r,a){if(e)n?n(t,e,{value:r,enumerable:!a,configurable:!a,writable:!a}):t[e]=r;else{var o=function(e,r){i(t,e,function(t){return this._invoke(e,r,t)})};o("next",0),o("throw",1),o("return",2)}},i(t,e,r,a)}function u(t,e,r,a,n,o,i){try{var u=t[o](i),l=u.value}catch(t){return void r(t)}u.done?e(l):Promise.resolve(l).then(a,n)}function l(t){return function(){var e=this,r=arguments;return new Promise(function(a,n){var o=t.apply(e,r);function i(t){u(o,a,n,i,l,"next",t)}function l(t){u(o,a,n,i,l,"throw",t)}i(void 0)})}}function c(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,s(a.key),a)}}function s(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,e||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}const p=new(function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"getAdminTemplates",value:(p=l(o().m(function t(){var e,r,n,i,u=arguments;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return e=u.length>0&&void 0!==u[0]?u[0]:{},t.p=1,t.n=2,a.A.get("/admin/templates",{params:e});case 2:return r=t.v,t.a(2,r.data);case 3:throw t.p=3,i=t.v,console.error("TemplateService.getAdminTemplates failed:",i),(null===(n=i.response)||void 0===n?void 0:n.data)||{error:"Failed to fetch admin templates"};case 4:return t.a(2)}},t,null,[[1,3]])})),function(){return p.apply(this,arguments)})},{key:"getAdminTemplate",value:(s=l(o().m(function t(e){var r,n,i;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,a.A.get("/admin/templates/".concat(e));case 1:return r=t.v,t.a(2,r.data);case 2:throw t.p=2,i=t.v,console.error("TemplateService.getAdminTemplate(".concat(e,") failed:"),i),(null===(n=i.response)||void 0===n?void 0:n.data)||{error:"Failed to fetch admin template details"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return s.apply(this,arguments)})},{key:"createAdminTemplate",value:(u=l(o().m(function t(e){var r,n,i;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,a.A.post("/admin/templates",e);case 1:return r=t.v,t.a(2,r.data);case 2:throw t.p=2,i=t.v,console.error("TemplateService.createAdminTemplate failed:",i),(null===(n=i.response)||void 0===n?void 0:n.data)||{error:"Failed to create template"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return u.apply(this,arguments)})},{key:"updateAdminTemplate",value:(i=l(o().m(function t(e,r){var n,i,u;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,a.A.post("/admin/templates/".concat(e),r,{headers:{"Content-Type":"multipart/form-data"}});case 1:return n=t.v,t.a(2,n.data);case 2:throw t.p=2,u=t.v,console.error("TemplateService.updateAdminTemplate(".concat(e,") failed:"),u),(null===(i=u.response)||void 0===i?void 0:i.data)||{error:"Failed to update template"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t,e){return i.apply(this,arguments)})},{key:"deleteAdminTemplate",value:(n=l(o().m(function t(e){var r,n,i;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,a.A.delete("/admin/templates/".concat(e));case 1:return r=t.v,t.a(2,r.data);case 2:throw t.p=2,i=t.v,console.error("TemplateService.deleteAdminTemplate(".concat(e,") failed:"),i),(null===(n=i.response)||void 0===n?void 0:n.data)||{error:"Failed to delete template"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return n.apply(this,arguments)})}],e&&c(t.prototype,e),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,n,i,u,s,p}())},7065:(t,e,r)=>{r.d(e,{A:()=>o});var a=r(6314),n=r.n(a)()(function(t){return t[1]});n.push([t.id,".ml-2[data-v-8b7ce11c]{margin-left:.5rem}",""]);const o=n},7728:(t,e,r)=>{r.d(e,{A:()=>p});var a=r(7304);function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(){var t,e,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",n=r.toStringTag||"@@toStringTag";function u(r,a,n,o){var u=a&&a.prototype instanceof c?a:c,s=Object.create(u.prototype);return i(s,"_invoke",function(r,a,n){var o,i,u,c=0,s=n||[],p=!1,d={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,r){return o=e,i=0,u=t,d.n=r,l}};function f(r,a){for(i=r,u=a,e=0;!p&&c&&!n&&e<s.length;e++){var n,o=s[e],f=d.p,m=o[2];r>3?(n=m===a)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=f&&((n=r<2&&f<o[1])?(i=0,d.v=a,d.n=o[1]):f<m&&(n=r<3||o[0]>a||a>m)&&(o[4]=r,o[5]=a,d.n=m,i=0))}if(n||r>1)return l;throw p=!0,a}return function(n,s,m){if(c>1)throw TypeError("Generator is already running");for(p&&1===s&&f(s,m),i=s,u=m;(e=i<2?t:u)||!p;){o||(i?i<3?(i>1&&(d.n=-1),f(i,u)):d.n=u:d.v=u);try{if(c=2,o){if(i||(n="next"),e=o[n]){if(!(e=e.call(o,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=o.return)&&e.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+n+"' method"),i=1);o=t}else if((e=(p=d.n<0)?u:r.call(a,d))!==l)break}catch(e){o=t,i=1,u=e}finally{c=1}}return{value:e,done:p}}}(r,n,o),!0),s}var l={};function c(){}function s(){}function p(){}e=Object.getPrototypeOf;var d=[][a]?e(e([][a]())):(i(e={},a,function(){return this}),e),f=p.prototype=c.prototype=Object.create(d);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,i(t,n,"GeneratorFunction")),t.prototype=Object.create(f),t}return s.prototype=p,i(f,"constructor",p),i(p,"constructor",s),s.displayName="GeneratorFunction",i(p,n,"GeneratorFunction"),i(f),i(f,n,"Generator"),i(f,a,function(){return this}),i(f,"toString",function(){return"[object Generator]"}),(o=function(){return{w:u,m}})()}function i(t,e,r,a){var n=Object.defineProperty;try{n({},"",{})}catch(t){n=0}i=function(t,e,r,a){if(e)n?n(t,e,{value:r,enumerable:!a,configurable:!a,writable:!a}):t[e]=r;else{var o=function(e,r){i(t,e,function(t){return this._invoke(e,r,t)})};o("next",0),o("throw",1),o("return",2)}},i(t,e,r,a)}function u(t,e,r,a,n,o,i){try{var u=t[o](i),l=u.value}catch(t){return void r(t)}u.done?e(l):Promise.resolve(l).then(a,n)}function l(t){return function(){var e=this,r=arguments;return new Promise(function(a,n){var o=t.apply(e,r);function i(t){u(o,a,n,i,l,"next",t)}function l(t){u(o,a,n,i,l,"throw",t)}i(void 0)})}}function c(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,s(a.key),a)}}function s(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,e||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}const p=new(function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"getProducts",value:(m=l(o().m(function t(){var e,r,n,i,u=arguments;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return e=u.length>0&&void 0!==u[0]?u[0]:{},t.p=1,t.n=2,a.A.get("/products",{params:e});case 2:return r=t.v,t.a(2,r.data);case 3:throw t.p=3,i=t.v,(null===(n=i.response)||void 0===n?void 0:n.data)||{error:"Failed to fetch products"};case 4:return t.a(2)}},t,null,[[1,3]])})),function(){return m.apply(this,arguments)})},{key:"getProduct",value:(f=l(o().m(function t(e){var r,n,i;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,a.A.get("/products/".concat(e));case 1:return r=t.v,t.a(2,r.data);case 2:throw t.p=2,i=t.v,(null===(n=i.response)||void 0===n?void 0:n.data)||{error:"Failed to fetch product"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return f.apply(this,arguments)})},{key:"getProductTemplates",value:(d=l(o().m(function t(e){var r,n,i;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,a.A.get("/products/".concat(e,"/templates"));case 1:return r=t.v,t.a(2,r.data);case 2:throw t.p=2,i=t.v,(null===(n=i.response)||void 0===n?void 0:n.data)||{error:"Failed to fetch templates"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return d.apply(this,arguments)})},{key:"getAdminProducts",value:(p=l(o().m(function t(){var e,r,n,i,u=arguments;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return e=u.length>0&&void 0!==u[0]?u[0]:{},t.p=1,t.n=2,a.A.get("/admin/products",{params:e});case 2:return r=t.v,t.a(2,r.data);case 3:throw t.p=3,i=t.v,console.error("ProductService.getAdminProducts failed:",i),(null===(n=i.response)||void 0===n?void 0:n.data)||{error:"Failed to fetch admin products"};case 4:return t.a(2)}},t,null,[[1,3]])})),function(){return p.apply(this,arguments)})},{key:"getAdminProduct",value:(s=l(o().m(function t(e){var r,n,i;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,a.A.get("/admin/products/".concat(e));case 1:return r=t.v,t.a(2,r.data);case 2:throw t.p=2,i=t.v,console.error("ProductService.getAdminProduct(".concat(e,") failed:"),i),(null===(n=i.response)||void 0===n?void 0:n.data)||{error:"Failed to fetch admin product details"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return s.apply(this,arguments)})},{key:"createAdminProduct",value:(u=l(o().m(function t(e){var r,n,i;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,a.A.post("/admin/products",e);case 1:return r=t.v,t.a(2,r.data);case 2:throw t.p=2,i=t.v,console.error("ProductService.createAdminProduct failed:",i),(null===(n=i.response)||void 0===n?void 0:n.data)||{error:"Failed to create product"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return u.apply(this,arguments)})},{key:"updateAdminProduct",value:(i=l(o().m(function t(e,r){var n,i,u;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,a.A.post("/admin/products/".concat(e),r);case 1:return n=t.v,t.a(2,n.data);case 2:throw t.p=2,u=t.v,console.error("ProductService.updateAdminProduct(".concat(e,") failed:"),u),(null===(i=u.response)||void 0===i?void 0:i.data)||{error:"Failed to update product"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t,e){return i.apply(this,arguments)})},{key:"deleteAdminProduct",value:(n=l(o().m(function t(e){var r,n,i;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,a.A.delete("/admin/products/".concat(e));case 1:return r=t.v,t.a(2,r.data);case 2:throw t.p=2,i=t.v,console.error("ProductService.deleteAdminProduct(".concat(e,") failed:"),i),(null===(n=i.response)||void 0===n?void 0:n.data)||{error:"Failed to delete product"};case 3:return t.a(2)}},t,null,[[0,2]])})),function(t){return n.apply(this,arguments)})}],e&&c(t.prototype,e),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,n,i,u,s,p,d,f,m}())}}]);