/*! For license information please see 708.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[708],{6708:(r,o,e)=>{e.r(o),e.d(o,{default:()=>_});var t=e(5353),n=e(6905);function i(r){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},i(r)}function a(){var r,o,e="function"==typeof Symbol?Symbol:{},t=e.iterator||"@@iterator",n=e.toStringTag||"@@toStringTag";function i(e,t,n,i){var a=t&&t.prototype instanceof s?t:s,p=Object.create(a.prototype);return l(p,"_invoke",function(e,t,n){var i,a,l,s=0,p=n||[],c=!1,f={p:0,n:0,v:r,a:b,f:b.bind(r,4),d:function(o,e){return i=o,a=0,l=r,f.n=e,u}};function b(e,t){for(a=e,l=t,o=0;!c&&s&&!n&&o<p.length;o++){var n,i=p[o],b=f.p,d=i[2];e>3?(n=d===t)&&(l=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=r):i[0]<=b&&((n=e<2&&b<i[1])?(a=0,f.v=t,f.n=i[1]):b<d&&(n=e<3||i[0]>t||t>d)&&(i[4]=e,i[5]=t,f.n=d,a=0))}if(n||e>1)return u;throw c=!0,t}return function(n,p,d){if(s>1)throw TypeError("Generator is already running");for(c&&1===p&&b(p,d),a=p,l=d;(o=a<2?r:l)||!c;){i||(a?a<3?(a>1&&(f.n=-1),b(a,l)):f.n=l:f.v=l);try{if(s=2,i){if(a||(n="next"),o=i[n]){if(!(o=o.call(i,l)))throw TypeError("iterator result is not an object");if(!o.done)return o;l=o.value,a<2&&(a=0)}else 1===a&&(o=i.return)&&o.call(i),a<2&&(l=TypeError("The iterator does not provide a '"+n+"' method"),a=1);i=r}else if((o=(c=f.n<0)?l:e.call(t,f))!==u)break}catch(o){i=r,a=1,l=o}finally{s=1}}return{value:o,done:c}}}(e,n,i),!0),p}var u={};function s(){}function p(){}function c(){}o=Object.getPrototypeOf;var f=[][t]?o(o([][t]())):(l(o={},t,function(){return this}),o),b=c.prototype=s.prototype=Object.create(f);function d(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,c):(r.__proto__=c,l(r,n,"GeneratorFunction")),r.prototype=Object.create(b),r}return p.prototype=c,l(b,"constructor",c),l(c,"constructor",p),p.displayName="GeneratorFunction",l(c,n,"GeneratorFunction"),l(b),l(b,n,"Generator"),l(b,t,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),(a=function(){return{w:i,m:d}})()}function l(r,o,e,t){var n=Object.defineProperty;try{n({},"",{})}catch(r){n=0}l=function(r,o,e,t){if(o)n?n(r,o,{value:e,enumerable:!t,configurable:!t,writable:!t}):r[o]=e;else{var i=function(o,e){l(r,o,function(r){return this._invoke(o,e,r)})};i("next",0),i("throw",1),i("return",2)}},l(r,o,e,t)}function u(r,o){return function(r){if(Array.isArray(r))return r}(r)||function(r,o){var e=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var t,n,i,a,l=[],u=!0,s=!1;try{if(i=(e=e.call(r)).next,0===o){if(Object(e)!==e)return;u=!1}else for(;!(u=(t=i.call(e)).done)&&(l.push(t.value),l.length!==o);u=!0);}catch(r){s=!0,n=r}finally{try{if(!u&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(s)throw n}}return l}}(r,o)||function(r,o){if(r){if("string"==typeof r)return s(r,o);var e={}.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?s(r,o):void 0}}(r,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(r,o){(null==o||o>r.length)&&(o=r.length);for(var e=0,t=Array(o);e<o;e++)t[e]=r[e];return t}function p(r,o,e,t,n,i,a){try{var l=r[i](a),u=l.value}catch(r){return void e(r)}l.done?o(u):Promise.resolve(u).then(t,n)}function c(r,o){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);o&&(t=t.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),e.push.apply(e,t)}return e}function f(r){for(var o=1;o<arguments.length;o++){var e=null!=arguments[o]?arguments[o]:{};o%2?c(Object(e),!0).forEach(function(o){b(r,o,e[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):c(Object(e)).forEach(function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(e,o))})}return r}function b(r,o,e){return(o=function(r){var o=function(r,o){if("object"!=i(r)||!r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var t=e.call(r,o||"default");if("object"!=i(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(r)}(r,"string");return"symbol"==i(o)?o:o+""}(o))in r?Object.defineProperty(r,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[o]=e,r}const d={name:"Profile",data:function(){return{form:{name:"",email:"",photobook_profile:{phone_number:"",address:"",city:"",postal_code:"",province:"",country:""}},updating:!1,updateError:"",updateSuccess:!1}},computed:f({},(0,t.L8)("auth",["user"])),created:function(){this.populateForm()},methods:f(f({},(0,t.i0)("auth",["fetchUser"])),{},{populateForm:function(){this.user&&(this.form.name=this.user.name||"",this.form.email=this.user.email||"",this.user.photobook_profile&&(this.form.photobook_profile.phone_number=this.user.photobook_profile.phone_number||"",this.form.photobook_profile.address=this.user.photobook_profile.address||"",this.form.photobook_profile.city=this.user.photobook_profile.city||"",this.form.photobook_profile.postal_code=this.user.photobook_profile.postal_code||"",this.form.photobook_profile.province=this.user.photobook_profile.province||"",this.form.photobook_profile.country=this.user.photobook_profile.country||""))},updateProfile:function(){var r,o=this;return(r=a().m(function r(){var e,t,i,l,s,p,c,b;return a().w(function(r){for(;;)switch(r.p=r.n){case 0:return o.updating=!0,o.updateError="",o.updateSuccess=!1,r.p=1,e=f({},o.form),r.n=2,n.A.updateProfile(e);case 2:return r.n=3,o.$store.dispatch("auth/fetchUser");case 3:o.updateSuccess=!0,o.$store.dispatch("showNotification",{title:"Success",message:"Your profile has been updated successfully.",type:"success"}),o.populateForm(),r.n=5;break;case 4:if(r.p=4,b=r.v,console.error("Profile update error:",b),b.errors){for(t="Please correct the following errors:\n",i=0,l=Object.entries(b.errors);i<l.length;i++)s=u(l[i],2),p=s[0],c=s[1],t+="- ".concat(p,": ").concat(c.join(", "),"\n");o.updateError=t}else b.error?o.updateError=b.error:o.updateError="Failed to update profile. Please try again.";o.$store.dispatch("showNotification",{title:"Error",message:o.updateError,type:"danger"});case 5:return r.p=5,o.updating=!1,r.f(5);case 6:return r.a(2)}},r,null,[[1,4,5,6]])}),function(){var o=this,e=arguments;return new Promise(function(t,n){var i=r.apply(o,e);function a(r){p(i,t,n,a,l,"next",r)}function l(r){p(i,t,n,a,l,"throw",r)}a(void 0)})})()},formatDate:function(r){if(!r)return"N/A";return new Date(r).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})}}),watch:{user:{handler:function(){this.populateForm()},deep:!0}}};var m=e(5072),h=e.n(m),y=e(7515),v={insert:"head",singleton:!1};h()(y.A,v);y.A.locals;const _=(0,e(4486).A)(d,function(){var r=this,o=r.$createElement,e=r._self._c||o;return e("app-layout",[e("b-container",[e("b-row",[e("b-col",[e("h1",[e("b-icon",{attrs:{icon:"person-circle"}}),r._v(" User Profile\n        ")],1),r._v(" "),e("p",{staticClass:"text-muted"},[r._v("Manage your account information")])])],1),r._v(" "),e("b-row",{staticClass:"mt-4"},[e("b-col",{attrs:{lg:"8"}},[e("b-card",[e("b-card-title",[r._v("Profile Information")]),r._v(" "),r.updateError?e("b-alert",{attrs:{variant:"danger",dismissible:""},on:{dismissed:function(o){r.updateError=""}}},[r._v("\n            "+r._s(r.updateError)+"\n          ")]):r._e(),r._v(" "),r.updateSuccess?e("b-alert",{attrs:{variant:"success",dismissible:""},on:{dismissed:function(o){r.updateSuccess=!1}}},[r._v("\n            Profile updated successfully!\n          ")]):r._e(),r._v(" "),e("b-form",{on:{submit:function(o){return o.preventDefault(),r.updateProfile.apply(null,arguments)}}},[e("b-row",[e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{label:"Full Name *","label-for":"profile-name"}},[e("b-form-input",{attrs:{id:"profile-name",type:"text",required:"",disabled:r.updating,placeholder:"Enter your full name"},model:{value:r.form.name,callback:function(o){r.$set(r.form,"name",o)},expression:"form.name"}})],1)],1),r._v(" "),e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{label:"Email *","label-for":"profile-email"}},[e("b-form-input",{attrs:{id:"profile-email",type:"email",required:"",disabled:r.updating,placeholder:"Enter your email"},model:{value:r.form.email,callback:function(o){r.$set(r.form,"email",o)},expression:"form.email"}})],1)],1)],1),r._v(" "),e("b-row",[e("b-col",{attrs:{md:"6"}},[e("b-form-group",{attrs:{label:"Phone Number","label-for":"profile-phone"}},[e("b-form-input",{attrs:{id:"profile-phone",type:"text",disabled:r.updating,placeholder:"Enter your phone number"},model:{value:r.form.photobook_profile.phone_number,callback:function(o){r.$set(r.form.photobook_profile,"phone_number",o)},expression:"form.photobook_profile.phone_number"}})],1)],1)],1),r._v(" "),e("b-form-group",{attrs:{label:"Address","label-for":"profile-address"}},[e("b-form-input",{attrs:{id:"profile-address",type:"text",disabled:r.updating,placeholder:"Enter your street address"},model:{value:r.form.photobook_profile.address,callback:function(o){r.$set(r.form.photobook_profile,"address",o)},expression:"form.photobook_profile.address"}})],1),r._v(" "),e("b-row",[e("b-col",{attrs:{md:"4"}},[e("b-form-group",{attrs:{label:"City","label-for":"profile-city"}},[e("b-form-input",{attrs:{id:"profile-city",type:"text",disabled:r.updating,placeholder:"Enter your city"},model:{value:r.form.photobook_profile.city,callback:function(o){r.$set(r.form.photobook_profile,"city",o)},expression:"form.photobook_profile.city"}})],1)],1),r._v(" "),e("b-col",{attrs:{md:"4"}},[e("b-form-group",{attrs:{label:"Postal Code","label-for":"profile-postal-code"}},[e("b-form-input",{attrs:{id:"profile-postal-code",type:"text",disabled:r.updating,placeholder:"Enter postal code"},model:{value:r.form.photobook_profile.postal_code,callback:function(o){r.$set(r.form.photobook_profile,"postal_code",o)},expression:"form.photobook_profile.postal_code"}})],1)],1),r._v(" "),e("b-col",{attrs:{md:"4"}},[e("b-form-group",{attrs:{label:"Province","label-for":"profile-province"}},[e("b-form-input",{attrs:{id:"profile-province",type:"text",disabled:r.updating,placeholder:"Enter your province"},model:{value:r.form.photobook_profile.province,callback:function(o){r.$set(r.form.photobook_profile,"province",o)},expression:"form.photobook_profile.province"}})],1)],1)],1),r._v(" "),e("b-form-group",{attrs:{label:"Country","label-for":"profile-country"}},[e("b-form-input",{attrs:{id:"profile-country",type:"text",disabled:r.updating,placeholder:"Enter your country"},model:{value:r.form.photobook_profile.country,callback:function(o){r.$set(r.form.photobook_profile,"country",o)},expression:"form.photobook_profile.country"}})],1),r._v(" "),e("b-button",{attrs:{type:"submit",variant:"primary",disabled:r.updating}},[r.updating?e("b-spinner",{attrs:{small:""}}):r._e(),r._v("\n              "+r._s(r.updating?"Updating...":"Update Profile")+"\n            ")],1)],1)],1)],1),r._v(" "),e("b-col",{attrs:{lg:"4"}},[e("b-card",[e("b-card-title",[r._v("Account Summary")]),r._v(" "),e("b-list-group",{attrs:{flush:""}},[e("b-list-group-item",[e("strong",[r._v("Name:")]),r._v(" "+r._s(r.user.name)+"\n            ")]),r._v(" "),e("b-list-group-item",[e("strong",[r._v("Email:")]),r._v(" "+r._s(r.user.email)+"\n            ")]),r._v(" "),e("b-list-group-item",[e("strong",[r._v("Member Since:")]),r._v(" "+r._s(r.formatDate(r.user.created_at))+"\n            ")]),r._v(" "),r.user.photobook_profile?e("b-list-group-item",[e("strong",[r._v("Phone:")]),r._v(" "+r._s(r.user.photobook_profile.phone_number||"Not provided")+"\n            ")]):r._e()],1)],1)],1)],1)],1)],1)},[],!1,null,"079b548a",null).exports},7515:(r,o,e)=>{e.d(o,{A:()=>i});var t=e(6314),n=e.n(t)()(function(r){return r[1]});n.push([r.id,"",""]);const i=n}}]);