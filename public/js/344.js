/*! For license information please see 344.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[344],{3344:(t,r,e)=>{e.r(r),e.d(r,{default:()=>f});var n=e(4065);function a(){var t,r,e="function"==typeof Symbol?Symbol:{},n=e.iterator||"@@iterator",i=e.toStringTag||"@@toStringTag";function c(e,n,a,i){var c=n&&n.prototype instanceof u?n:u,l=Object.create(c.prototype);return o(l,"_invoke",function(e,n,a){var o,i,c,u=0,l=a||[],d=!1,p={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(r,e){return o=r,i=0,c=t,p.n=e,s}};function f(e,n){for(i=e,c=n,r=0;!d&&u&&!a&&r<l.length;r++){var a,o=l[r],f=p.p,v=o[2];e>3?(a=v===n)&&(c=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=t):o[0]<=f&&((a=e<2&&f<o[1])?(i=0,p.v=n,p.n=o[1]):f<v&&(a=e<3||o[0]>n||n>v)&&(o[4]=e,o[5]=n,p.n=v,i=0))}if(a||e>1)return s;throw d=!0,n}return function(a,l,v){if(u>1)throw TypeError("Generator is already running");for(d&&1===l&&f(l,v),i=l,c=v;(r=i<2?t:c)||!d;){o||(i?i<3?(i>1&&(p.n=-1),f(i,c)):p.n=c:p.v=c);try{if(u=2,o){if(i||(a="next"),r=o[a]){if(!(r=r.call(o,c)))throw TypeError("iterator result is not an object");if(!r.done)return r;c=r.value,i<2&&(i=0)}else 1===i&&(r=o.return)&&r.call(o),i<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=t}else if((r=(d=p.n<0)?c:e.call(n,p))!==s)break}catch(r){o=t,i=1,c=r}finally{u=1}}return{value:r,done:d}}}(e,a,i),!0),l}var s={};function u(){}function l(){}function d(){}r=Object.getPrototypeOf;var p=[][n]?r(r([][n]())):(o(r={},n,function(){return this}),r),f=d.prototype=u.prototype=Object.create(p);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,o(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return l.prototype=d,o(f,"constructor",d),o(d,"constructor",l),l.displayName="GeneratorFunction",o(d,i,"GeneratorFunction"),o(f),o(f,i,"Generator"),o(f,n,function(){return this}),o(f,"toString",function(){return"[object Generator]"}),(a=function(){return{w:c,m:v}})()}function o(t,r,e,n){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}o=function(t,r,e,n){if(r)a?a(t,r,{value:e,enumerable:!n,configurable:!n,writable:!n}):t[r]=e;else{var i=function(r,e){o(t,r,function(t){return this._invoke(r,e,t)})};i("next",0),i("throw",1),i("return",2)}},o(t,r,e,n)}function i(t,r,e,n,a,o,i){try{var c=t[o](i),s=c.value}catch(t){return void e(t)}c.done?r(s):Promise.resolve(s).then(n,a)}function c(t){return function(){var r=this,e=arguments;return new Promise(function(n,a){var o=t.apply(r,e);function c(t){i(o,n,a,c,s,"next",t)}function s(t){i(o,n,a,c,s,"throw",t)}c(void 0)})}}const s={name:"Orders",data:function(){return{orders:[],pagination:null,loading:!1,error:null,currentPage:1}},computed:{breadcrumbItems:function(){return[{text:"Dashboard",to:{name:"Dashboard"}},{text:"Orders",active:!0}]}},created:function(){var t=this;return c(a().m(function r(){return a().w(function(r){for(;;)switch(r.n){case 0:return r.n=1,t.loadOrders();case 1:return r.a(2)}},r)}))()},methods:{loadOrders:function(){var t=arguments,r=this;return c(a().m(function e(){var o,i,c;return a().w(function(e){for(;;)switch(e.p=e.n){case 0:return o=t.length>0&&void 0!==t[0]?t[0]:1,r.loading=!0,r.error=null,e.p=1,e.n=2,n.A.getOrders({page:o});case 2:i=e.v,r.orders=i.data||[],r.pagination=i.pagination||{total:r.orders.length,per_page:10,current_page:1,last_page:1},r.currentPage=o,e.n=4;break;case 3:e.p=3,c=e.v,console.error("Failed to load orders:",c),r.error=c.message||"Failed to load orders. Please try again.";case 4:return e.p=4,r.loading=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}))()},onPageChange:function(t){this.loadOrders(t)},getStatusVariant:function(t){return{pending:"warning",paid:"success",file_upload:"info",processing:"primary",ready:"success",completed:"success",cancelled:"danger"}[t]||"secondary"},formatStatus:function(t){return{pending:"Pending Payment",paid:"Payment Received",file_upload:"Awaiting Files",processing:"In Production",ready:"Ready for Pickup",completed:"Completed",cancelled:"Cancelled"}[t]||t},formatDate:function(t){if(!t)return"N/A";try{return new Date(t).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"})}catch(t){return"Invalid Date"}},formatCurrency:function(t){try{return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t||0)}catch(t){return"Rp 0"}}}};var u=e(5072),l=e.n(u),d=e(8102),p={insert:"head",singleton:!1};l()(d.A,p);d.A.locals;const f=(0,e(4486).A)(s,function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("app-layout",[e("b-container",[e("b-row",[e("b-col",{attrs:{cols:"12"}},[e("b-breadcrumb",{attrs:{items:t.breadcrumbItems}})],1)],1),t._v(" "),e("b-row",[e("b-col",{attrs:{cols:"12"}},[e("h2",{staticClass:"mb-4"},[t._v("My Orders")])])],1),t._v(" "),t.loading?e("b-row",[e("b-col",{staticClass:"text-center py-5",attrs:{cols:"12"}},[e("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{variant:"primary"}}),t._v(" "),e("p",{staticClass:"mt-3"},[t._v("Loading your orders...")])],1)],1):t.error?e("b-row",[e("b-col",{attrs:{cols:"12"}},[e("b-alert",{attrs:{variant:"danger",show:""}},[e("h4",[e("b-icon",{attrs:{icon:"exclamation-triangle"}}),t._v(" Error")],1),t._v(" "),e("p",[t._v(t._s(t.error))]),t._v(" "),e("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:t.loadOrders}},[e("b-icon",{attrs:{icon:"arrow-repeat"}}),t._v(" Retry\n          ")],1)],1)],1)],1):0===t.orders.length?e("b-row",[e("b-col",{attrs:{cols:"12"}},[e("b-card",{staticClass:"text-center py-5"},[e("b-icon",{attrs:{icon:"inbox","font-scale":"2",variant:"secondary"}}),t._v(" "),e("h4",{staticClass:"mt-3"},[t._v("No Orders Found")]),t._v(" "),e("p",{staticClass:"mb-4"},[t._v("You haven't placed any orders yet.")]),t._v(" "),e("b-button",{attrs:{variant:"primary",to:{name:"Products"}}},[e("b-icon",{attrs:{icon:"cart-plus"}}),t._v(" Start Shopping\n          ")],1)],1)],1)],1):e("b-row",[e("b-col",{attrs:{cols:"12"}},[e("b-card",{attrs:{"no-body":""}},[e("b-list-group",{attrs:{flush:""}},t._l(t.orders,function(r){return e("b-list-group-item",{key:r.id,staticClass:"order-list-item",attrs:{to:{name:"OrderDetail",params:{id:r.id}}}},[e("b-row",{staticClass:"align-items-center"},[e("b-col",{attrs:{md:"2"}},[e("strong",[t._v("Order #"+t._s(r.order_number))])]),t._v(" "),e("b-col",{attrs:{md:"3"}},[e("b-badge",{attrs:{variant:t.getStatusVariant(r.status)}},[t._v("\n                    "+t._s(t.formatStatus(r.status))+"\n                  ")])],1),t._v(" "),e("b-col",{attrs:{md:"3"}},[t._v("\n                  "+t._s(t.formatDate(r.created_at))+"\n                ")]),t._v(" "),e("b-col",{attrs:{md:"3"}},[e("strong",[t._v("Rp "+t._s(t.formatCurrency(r.total_amount)))])]),t._v(" "),e("b-col",{staticClass:"text-right",attrs:{md:"1"}},[e("b-icon",{staticClass:"text-muted",attrs:{icon:"chevron-right"}})],1)],1)],1)}),1)],1),t._v(" "),t.pagination&&t.pagination.last_page>1?e("b-pagination",{staticClass:"mt-4",attrs:{value:t.currentPage,"total-rows":t.pagination.total,"per-page":t.pagination.per_page,align:"center"},on:{input:t.onPageChange}}):t._e()],1)],1)],1)],1)},[],!1,null,"00fc4e47",null).exports},8102:(t,r,e)=>{e.d(r,{A:()=>o});var n=e(6314),a=e.n(n)()(function(t){return t[1]});a.push([t.id,".order-list-item[data-v-00fc4e47]{transition:background-color .2s ease}.order-list-item[data-v-00fc4e47]:hover{background-color:#f8f9fa;text-decoration:none}",""]);const o=a}}]);